!function(){'use strict';function e(t){return e='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},e(t)}var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};function n(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function c(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))}function r(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},'function'==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError('Generator is already executing.');for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}function i(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}const o='attn-waitlist-trigger-btn',a='attn-waitlist-trigger',c='attn-waitlist-eligibility';function u(){return document.getElementById(o)}function s(e){const t=u()??function(){const e=document.createElement('button');return e.id=o,e.type='button',e}(),{text:n,classList:r,alignment:i,enrolledText:a}=e.settings;t.innerText=n,t.setAttribute('data-enabled-text',n),t.setAttribute('data-disabled-text',a),t.classList.add(...r.split(','));const c=l();return c&&(c.style.textAlign=i),t}function d(e){const t=e.getAttribute('data-disabled-text');t&&(e.disabled=!0,e.innerText=t)}function l(){return document.getElementById(a)}function v(){return document.getElementById(c)}const f='attn-inline-price-trigger-btn',p='attn-inline-price-trigger';function g(){return document.getElementById(f)}function m(e){const t=g()??function(){const e=document.createElement('button');return e.id=f,e.type='button',e}(),{beforeOfferText:n,offer:r,afterOfferText:i,classList:o,alignment:a}=e.settings,c=y();c&&(c.style.textAlign=a);const u=c?.getAttribute('data-product-price'),s=[n,u?function(e,t){const n=t.replace(/\W/g,'');if(t.includes('%')){const t=(e*(1-Number(n)/100)).toFixed(2);return t.endsWith('00')?['$',Math.round(Number(t))].join(''):['$',t].join('')}return t.includes('$')?['$',e-Number(n)].join(''):t}(Number(u),r):r,i].join(' ');return t.innerText=s,t.setAttribute('data-enabled-text',s),t.classList.add(...o.split(',')),t}function y(){return document.getElementById(p)}function _(e){e.removeAttribute('data-product-price'),e.style.display='none'}var h=(e=>(e.TagCoreLoaded='attn.tag-core.loaded',e.TagCreativesLoaded='attn.tag-creatives.loaded',e.FetchCreativesStart='attn.fetch-creatives.start',e.FetchCreativesEnd='attn.fetch-creatives.end',e))(h||{});function E(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,'default')?e.default:e}var C,w={exports:{}};C=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if('undefined'!=typeof document){'number'==typeof(o=e({path:'/'},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():'';try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c='';for(var u in o)o[u]&&(c+='; '+u,!0!==o[u]&&(c+='='+o[u].split(';')[0]));return document.cookie=t+'='+n+c}}function a(e,n){if('undefined'!=typeof document){for(var i={},o=document.cookie?document.cookie.split('; '):[],a=0;a<o.length;a++){var c=o[a].split('='),u=c.slice(1).join('=');n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=t(c[0]);if(u=(r.read||r)(u,s)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[s]=u,e===s)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,'',e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},w.exports=C();const I=E(w.exports);function b(e){return I.get(e)}const T=window.__attentive_cfg?.cxd||null,A=390;function S(e,t,n){const r={secure:window.location.protocol.includes('https'),...n,expires:L(n?.expires)};return T&&window.location.host.includes(T.replace(/^\./,''))&&(r.domain=T),I.set(e,t,r)}function O(e,t){I.remove(e,t)}function L(e){if(!e)return A;if(e instanceof Date){return e<new Date(Date.now()+864e5*A)?e:A}return Math.min(A,e)}const N=!1,P='4.38.17',k='https://events.attentivemobile.com/e',R='a69180cb82',B=N?'An error occurred during dispatch':'0',x=N?'The performance api required for tracking is missing on this device':'1',D=N?'Could not write to storage':'2',M=N?'Could not read from storage':'3',U=N?'An error occurred in the analytic collection loop':'6',H=N?'Failed to decode configuration':'8',F=N?'Failed to load shopify cart':'9',V=N?'WooCommerce Cart Trigger Error':'10',j=N?'Magento Product View Trigger Error':'11',G=N?'Magento Purchase Trigger Error':'12',q='fb',Y='ga',$='t0',J='np',W='spp',K='wct',X='mgt',z='gtag',Z='ds',Q='mv',ee='vv',te='x',ne='i',re='r',ie='m',oe='trg',ae='enr',ce='trn',ue='id',se='pth',de='pt',le='es',ve='mp',fe='ev',pe='ep',ge='e2p',me='a',ye='mu',_e='mt',he='rgx',Ee='tms',Ce='csk',we='s',Ie='ws',be='atr',Te='prop',Ae='ro',Se='cnd',Oe='qp',Le='vidc',Ne='esit',Pe='cs',ke='c',Re='ceid',Be='m',xe='cb',De='t',Me='lt',Ue='pd',He='r',Fe='v',Ve='u',je='mfbc',Ge='mfbp',qe='meid',Ye='mcns',$e='tag',Je='tc',We='ane',Ke='evs',Xe='idc',ze='sbc',Ze='dae',Qe='swpe',et='bctu',tt='ses',nt='@_@',rt='idn',it='ust',ot='tga',at='pd',ct='snd',ut='cu',st='c',dt='v',lt='d',vt='p',ft='e',pt='o',gt='oc',mt='pl',yt=['Add to cart','Add to Bag','Buy Now','Add','#addToCart','#add-to-cart','#AddToCart','Order Now','Buy it now','.product__add-to-cart','[name="add"]','[data-label="Add to Cart"]','[data-add-to-cart]','#addToCartBtn','[value="Add to Bag"]','[value="Add to Cart"]','[value="Add to Order"]'],_t='emc',ht='co',Et='uo',Ct='ma',wt='in';function It(e){return null!=e&&'object'==typeof e&&null!=e.val}function bt(e){return Object.entries(e).reduce(((e,[t,n])=>(It(n)?It(n)&&!n[wt]&&e.push(`${t}=${encodeURIComponent(n.val)}`):'object'==typeof n&&null!=n?e.push(`${t}=${encodeURIComponent(JSON.stringify(n))}`):'string'!=typeof n&&'number'!=typeof n&&'boolean'!=typeof n||e.push(`${t}=${encodeURIComponent(n)}`),e)),[]).join('&')}const Tt={};function At(e,t){const n={errorCode:e,message:t.message,name:t.name,errorStack:t.stack};if(Tt[e]&&Tt[e].message===t.message&&Tt[e].name===t.name)return null;Tt[e]=n;const r=bt({...n,[De]:ft,[Fe]:P}),i=`${k}?${r}`,o=new Image(1,1);return o.src=i,o}function St(e,t){const n=t+':0';try{S('attntv_mstore_'+e,n,{secure:window.location.protocol.includes('https')})}catch(e){At(D,e)}return n}const Ot=0,Lt=1,Nt=2,Pt=6,kt=7,Rt=8,Bt=9,xt='edgetag_user_id';function Dt(e=[]){const t=[{vendor:Ot,id:window.ShopifyAnalytics?.meta?.page?.customerId??null},{vendor:Lt,id:new URLSearchParams(window.location.search).get('utm_klaviyo_id')??null},{vendor:Nt,id:b('__attentive_client_user_id')??null},{vendor:kt,id:window.triggermail?.persist?.read_prop('distinct_id')??b('__attentive_bluecore_id')??null},{vendor:Rt,id:b('_shopify_y')??null},{vendor:Bt,id:b('__cq_uuid')??null}],n=b('__attentive_custom_ids');if(n){JSON.parse(n).forEach((e=>{t.push({vendor:Pt,name:e.name,id:e.value})}))}const r={vendor:Pt,id:window.edgetag?.('getUserId')??null,name:xt};r.id&&t.push(r);const i=t.filter((t=>t.id&&e.includes(t.vendor)));return i.length?i:null}const Mt=/[\s|()-]/g,Ut=/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/,Ht=/^(((\+44\s?\d{4}|\(?0\d{4}\)?)\s?\d{3}\s?\d{3})|((\+44\s?\d{3}|\(?0\d{3}\)?)\s?\d{3}\s?\d{4})|((\+44\s?\d{2}|\(?0\d{2}\)?)\s?\d{4}\s?\d{4}))(\s?#(\d{4}|\d{3}))?$/,Ft=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:+))/,Vt=/[^.\d]/g,jt=/\.(.*?\d*)/g,Gt=/^[.,]|[.,]$|\s/g,qt=(e,t=!1)=>{if('string'!=typeof e)return e;const n=e.replace(Mt,''),r=Ut.test(n),i=Ht.test(n);return r?n:i?function(e){return'0'===e[0]?e.substring(1):'+44'===e.substring(0,3)?e.substring(3):e}(n):t?null:e.replace(Vt,'')},Yt=e=>e.replace(Gt,''),$t=e=>{if('string'!=typeof e)return e;let t=e.replace(Vt,'');const n=t.indexOf('.');return n>=0&&(t=t.substring(0,n+3)),t},Jt=e=>'string'!=typeof e?e:e.replace(Vt,'').replace(jt,''),Wt=e=>'string'!=typeof e?e:e.replace('\n','').trim(),Kt=e=>{if('string'!=typeof e)return e;const t=e.indexOf('#');return(-1===t?e:e.substring(t+1)).trim()},Xt=e=>{try{return new URL(function(e){/(^\/\/).*/.test(e)&&(e='https:'+e);return e}(e)).href}catch{return e}};function zt(e){return(t,n,r)=>{const i=e[n.type];'function'==typeof i&&i(t,n,r)}}const Zt=function(){const e='_-_';try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}(),Qt=function(){const e='_-_';try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}();function en(){let e=Date.now()+performance.now();return'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g,(t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),('x'===t?n:3&n|8).toString(16)}))}function tn(e){return function(t,n){return{type:e,data:t,meta:n}}}const nn=tn(nt),rn=tn(ot),on=tn(rt),an=tn(it),cn=tn('uc'),un=tn('cd'),sn=tn(at),dn=tn(ct);function ln(e){var t,n;return e&&{name:e.name,category:e.category,image:e.productImage,price:null===(t=e.price)||void 0===t?void 0:t.value,currency:null===(n=e.price)||void 0===n?void 0:n.currency,quantity:e.quantity?String(e.quantity):'',productId:e.productId,subProductId:e.productVariantId}}function vn(e){return e&&{items:e.map(ln)}}function fn(e){return e&&{phone:e.phone,email:e.email}}function pn(e){return e&&{cartId:e.cartId,cartCoupon:e.cartCoupon}}var gn='_attn_';function mn(){var e;try{var n=null;if(Zt){var r=sessionStorage.getItem(gn);n=r?JSON.parse(r):null}var i=function(e){if(!e)throw new Error(M);try{return JSON.parse(atob(e))}catch(t){try{return JSON.parse(e)}catch(e){throw new Error(M)}}}(b(gn)),o=i?Object.keys(i).reduce((function(e,t){var n=JSON.parse(i[t]);return e[t]=function(e){if(!e)return!0;const t=24*e[Ct]*60*60*1e3;return e[ht]+t<Date.now()}(n)?null:n,e}),{}):null;e=t(t({},n),o)}catch(e){throw new Error(M)}return e}function yn(e){try{Zt&&sessionStorage.setItem(gn,JSON.stringify(e));var t=Object.keys(e).reduce((function(t,n){return It(e[n])&&(t[n]=JSON.stringify(e[n])),t}),{});return S(gn,btoa(JSON.stringify(t)),{sameSite:'strict',expires:3650}),e}catch(e){throw new Error(D)}}function _n(e,n){var r,i,o,a,c,u,s;function d(n,r){var i,o,a,c=Date.now(),u=e[n];return(i={})[n]=t(((o={})[ht]=It(u)?u[ht]:c,o[Et]=c,o[Ct]=3650,o[wt]=!1,o),r),a=i,t(t({},e),a)}switch(n.type){case nt:try{var l=function(e){var n,r,i,o=mn();return t(t(((n={})[dt]=0,n[Ue]='',n[Ve]=null,n[We]=null,n),o),((r={})[ke]=e.data.clientConfiguration.company,r[Re]=e.data.clientConfiguration.ceid,r[Qe]=hn(e.data.clientConfiguration),r[et]=null!==(i=e.data.clientConfiguration[et])&&void 0!==i?i:'',r[Me]=(new Date).getTime(),r[tt]=null,r[je]=null,r[Ge]=null,r[qe]=null,r[Ye]=null,r))}(n);return(null===(c=window.__attentive_cfg)||void 0===c?void 0:c.cxd)&&function(e){S('__attentive_domain',e.data.clientConfiguration.company,{expires:7}),S('__attentive_ceid',e.data.clientConfiguration.ceid,{expires:7})}(n),yn(l)}catch(e){return Zt&&sessionStorage.removeItem(gn),O(gn),yn(((r={})[dt]=0,r[Ue]=window.location.href,r[Ve]=null,r[We]=null,r[ke]=n.data.clientConfiguration.company,r[Re]=n.data.clientConfiguration.ceid,r[Qe]=hn(n.data.clientConfiguration),r[et]=null!==(u=n.data.clientConfiguration[et])&&void 0!==u?u:'',r[Me]=(new Date).getTime(),r[tt]=null,r[je]=null,r[Ge]=null,r[qe]=null,r[Ye]=null,r))}case rt:return S('__attentive_id',n.data.id,{expires:n.data.maxAge}),yn(d(Ve,((i={val:n.data.id})[Ct]=n.data.maxAge,i)));case it:return yn(t(t({},e),n.data));case ot:return yn(d(We,((o={val:n.data.on||!1})[Ct]=n.data.maxAge||365,o[wt]=!0,o)));case ct:return window.location.href===e[Ue]&&(null===(s=n.meta)||void 0===s?void 0:s.dataType)!==dt?e:yn(t(t({},e),((a={})[Ue]=window.location.href,a[dt]='number'==typeof e[dt]?e[dt]+1:1,a)));default:return e}}function hn(e){return null==e[Qe]?'':Object.entries(e[Qe]).reduce((function(e,t){var n=t[0];return t[1]?''.concat(e).concat(n,','):e}),'').slice(0,-1)}var En,Cn,wn=!1,In=!1;function bn(e){var n=e.clientConfiguration,r=e.services,i=void 0===r?[]:r;if(wn)return Cn;function o(e){if(e&&e.type)if(In)queueMicrotask((function(){return o(e)}));else{In=!0;try{var t={dispatch:o};En=_n(En,e);for(var n=0,r=i;n<r.length;n++){(0,r[n])(En,e,t)}}catch(e){At(B,e)}finally{In=!1}}}return o(nn({clientConfiguration:n})),Cn=function(e){function n(n){return function(r){var i,o,a={};switch(n){case lt:a=r?t(t({},vn(r.items)),fn(r.user)):null;break;case st:a=r?t(t(t({},vn(r.items)),pn(r.cart)),fn(r.user)):null;break;case vt:a=r?t(t(t(t({},vn(r.items)),pn(r.cart)),(o=r.order)&&{orderId:o.orderId}),fn(r.user)):null;break;case ut:a=r?t(t(t({},pn(r.cart)),{products:null===(i=vn(r.items))||void 0===i?void 0:i.items}),fn(r.user)):null}e(sn(a||{},{source:ie,dataType:n}))}}var r,i={version:P,analytics:{enable:function(t){return e(rn({on:!0,maxAge:(null==t?void 0:t.expires)||365}))},disable:function(){return e(rn({on:!1}))},track:function(e,t){var n={page_view:i.analytics.pageView,product_view:i.analytics.productView,add_to_cart:i.analytics.addToCart,purchase:i.analytics.purchase,identify:i.analytics.identify};n[e]&&n[e](t)},addToCart:n(st),pageView:n(dt),productView:n(lt),purchase:n(vt),identify:(r=rt,function(t){var n={phone:null==t?void 0:t.phone,email:null==t?void 0:t.email};(null==t?void 0:t.externalIdentifiers)&&S('__attentive_custom_ids',JSON.stringify(null==t?void 0:t.externalIdentifiers)),e(sn(n||{},{source:ie,dataType:r}))}),cartUpdated:n(ut)}};return window.dataLayer&&window.__attentive_cfg&&'1'===window.__attentive_cfg.gtm&&window.dataLayer.push({event:'attentive_loaded'}),i}(o),wn=!0,Cn}var Tn='timeout',An='cancelled',Sn=3e5;function On(e,t,n,r){if(void 0===t&&(t=1e4),void 0===n&&(n=250),void 0===r&&(r=!0),N&&t>Sn)throw new Error('timeout is too large, max allowed value is '.concat(Sn));var i,o=Number(new Date)+t,a=!1,c=n,u=new Promise((function t(u,s){if(a)return s({reason:An});var d=e();d?u({result:d}):Number(new Date)<o?(i&&clearTimeout(i),i=setTimeout(t,c,u,s),r&&(c=Math.min(c+n/4,1e3))):s({reason:Tn})}));return u.cancel=function(){a||(a=!0)},u}function Ln(e,t){var n,r;return null!=(null===(n=t.meta)||void 0===n?void 0:n.dataType)&&null!=e[Ze]&&e[Ze][null===(r=t.meta)||void 0===r?void 0:r.dataType]}function Nn(e){var t;return(null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.source)===ie}var Pn=function(e,t){var n,r,i,o,a,c;return e.push({id:(null===(n=t.productId)||void 0===n?void 0:n.toString())||(null===(r=t.sku)||void 0===r?void 0:r.toString()),quantity:t.quantity?parseInt(t.quantity):void 0,item_price:t.price?parseFloat(t.price):void 0,variantId:null===(i=t.subProductId)||void 0===i?void 0:i.toString(),title:null===(o=t.name)||void 0===o?void 0:o.toString(),category:null===(a=t.category)||void 0===a?void 0:a.toString(),image:null===(c=t.image)||void 0===c?void 0:c.toString(),type:'product'}),e},kn=function(e){return{cartId:e.cartId||void 0,cartCoupon:e.cartCoupon||void 0,cartCurrency:e.cartCurrency||void 0,cartDiscount:e.cartCoupon||void 0}},Rn=function(e){return Array.isArray(e)?e.reduce(Pn,[]):'object'==typeof e?Object.values(e).reduce(Pn,[]):void 0};function Bn(e){var n,r=null===(n=e[Xe])||void 0===n?void 0:n[_t],i=function(t,n,i){var o;window.edgetag&&i&&(!0===r?i.customJson=JSON.stringify(((o={})[qe]=n[qe],o[Ye]=n[Ye],o[je]=n[je],o[Ge]=n[Ge],o)):delete i.customJson,window.edgetag('tag',t,i,{},{destination:e[et]}))};return function(n,r){var o,a;if((Nn(r)||!Ln(e,r))&&(r.data.blotoutExternalIds=function(e){if(null!==e){var t=null==e?void 0:e.filter((function(e){return e.name!==xt}));if(t&&t.length>0){var n={};return null==t||t.forEach((function(e){e.vendor===Nt?n.clientUserId=e.id||'':e.vendor===Pt?n[e.name||'customId']=e.id||'':n[e.vendor]=e.id||''})),n}}}(Dt([Ot,Lt,Nt,Pt,kt,Rt,Bt])),null===(o=r.meta)||void 0===o?void 0:o.dataType))switch(null===(a=r.meta)||void 0===a?void 0:a.dataType){case st:return void i('AddToCart',n,function(e){return{currency:e.data.currency||e.data.cartCurrency||void 0,contents:Pn([],t(t({},e.data),{quantity:'1'})),customIdentifiers:e.data.blotoutExternalIds}}(r));case dt:return void i('PageView',n,function(e){var t={customIdentifiers:e.data.blotoutExternalIds};return t.customIdentifiers?t:{}}(r));case lt:return void i('ViewContent',n,function(e){return{currency:e.data.currency||e.data.cartCurrency||void 0,contents:Pn([],t(t({},e.data),{quantity:'1'})),customIdentifiers:e.data.blotoutExternalIds}}(r));case vt:return void i('Purchase',n,function(e){if(e.data.orderId)return{currency:e.data.currency||e.data.cartCurrency||void 0,contents:Pn([],t(t({},e.data),{quantity:'1'})),value:e.data.cartTotal?parseFloat(e.data.cartTotal):void 0,orderId:e.data.orderId,eventId:e.data.orderId,cart:kn(e.data),customIdentifiers:e.data.blotoutExternalIds}}(r));case ut:return void i('CartUpdated',n,function(e){if(e.data.products){var t=Rn(e.data.products),n=kn(e.data);if(t)return{currency:e.data.currency||e.data.cartCurrency||void 0,contents:t,cart:n,customIdentifiers:e.data.blotoutExternalIds}}}(r));case gt:return void i('OrderConfirmed',n,function(e){if(e.data.products&&e.data.orderId){var t=Rn(e.data.products);if(t)return{currency:e.data.currency||e.data.cartCurrency||void 0,contents:t,orderId:e.data.orderId,eventId:e.data.orderId,cart:kn(e.data),customIdentifiers:e.data.blotoutExternalIds}}}(r));default:return}}}var xn='b',Dn='a',Mn='e',Un='u';function Hn(e){return n(this,void 0,void 0,(function(){var t;return r(this,(function(n){return t=[],[2,new Promise((function(n){var r=function(e){switch(e){case Mn:return n('error');case xn:return t.includes(XMLHttpRequest.HEADERS_RECEIVED)?n('adblocked'):n('browser');case Dn:return n('none');case Un:return n('unknown')}};try{var i=new XMLHttpRequest;i.onreadystatechange=function(){if(t.push(i.readyState),i.readyState===XMLHttpRequest.DONE){if(0===i.status||i.responseURL!==e)return r(xn);200===i.status&&r(Dn),r(Un)}},i.open('HEAD',e,!0),i.send(null)}catch(e){r(Mn)}}))]}))}))}var Fn,Vn='_attn_bopd_';var jn=function(e){return'[object Object]'===Object.prototype.toString.call(e)};function Gn(e,t){if(void 0===t&&(t=[]),'function'==typeof e)return null;if(jn(e)){if(t.indexOf(e)>=0)return null;t.push(e);for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],c=o[1];n[a]=Gn(c,t)}return n}return Array.isArray(e)?e.map((function(e){return Gn(e,t)})):e}var qn=function(e,t){var n;return(null===(n=t.querySelector(e))||void 0===n?void 0:n.textContent)||null},Yn=function(e,t,n){var r;return e||n instanceof Document?e&&(null===(r=n.querySelector(e))||void 0===r?void 0:r.getAttribute(t))||null:n.getAttribute(t)||null},$n=function(e,t,n){var r=n.querySelector(e);if(r&&t in r){var i=r[t];if(null!=i)return''.concat(i)}return null};function Jn(e,t){return Object.entries(e).reduce((function(e,n){var r=n[0],i=n[1];return e[r]=function(e,t){var n=null;if('string'==typeof(n='string'==typeof e[Te]?$n(e[we],e[Te],t):'string'==typeof e[be]?Yn(e[we],e[be],t):qn(e[we],t))){n=n.replace(/\n\t/g,'').trim();var r=new RegExp(e[he]||'.*'),i=n.match(r);n=i?i[0]:n}return n}(i,t),e}),{})}var Wn={prop:function(e,t){return t[e.target]},idx:function(e,t){if(!(e.key<0))return e.target&&t[e.target]?t[e.target][Number(e.key)]:t[Number(e.key)];if(e.target)return t[e.target][t[e.target].length+e.key];if(Array.isArray(t))return t[t.length+e.key]},exists:function(e,t){if(Array.isArray(t[e.target]))return t[e.target].find((function(t){return null!=(null==t?void 0:t[e.key])||Array.isArray(t)&&(null==t?void 0:t.includes(e.key))}))},eq:function(e,t){return Array.isArray(t[e.target])?t[e.target].find((function(t){return t[e.key]===e.val})):'object'==typeof t[e.target]&&t[e.target][e.key]===e.val?t[e.target]:void 0}};function Kn(e,t){var n=function(e){for(var t=[],n=e.split(''),r='.',i='<',o='>',a=!1,c='',u=0,s=n;u<s.length;u++){var d=s[u];d!==i?d!==o?d!==r||a?null!=d&&(c+=d):(t.push(c),c=''):a=!1:a=!0}return t.push(c),t}(e);return function(e){var r=t||null;return'object'!=typeof e?r:n.reduce((function(e,t){if(e){var n=(o=/\[.*\]/.test(i=t),a=i.match(/\[(.*)\]/),c=i.match(/\["(.*)"\]/),u=i.match(/\[(-?\d*)\]/),s=i.match(/\[(\w*)="(.*)"\]/),d=o?i.slice(0,i.indexOf('[')):i,null!=u&&u[1]?{type:'idx',target:d,key:Number(u[1])}:s&&s[1]&&s[2]?{type:'eq',target:d,key:s[1],val:s[2]}:c?{type:'exists',target:d,key:c[1]}:o&&Array.isArray(a)?{type:'exists',target:d,key:a[1]}:{type:'prop',target:d});return Wn[n.type](n,e)||r}var i,o,a,c,u,s,d;return r}),e)}}var Xn=function(e,t){var n;return null===(n=t.querySelector(e))||void 0===n?void 0:n.textContent},zn=function(e,t,n){var r;return e||n instanceof Document?e?null===(r=n.querySelector(e))||void 0===r?void 0:r.getAttribute(t):void 0:n.getAttribute(t)},Zn=function(e,t,n){var r=n.querySelector(e);if(r&&t in r){var i=r[t];if(null!=i)return''.concat(i)}};function Qn(e,t){for(var n={},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r],a=e[o];n[o]=er(a,t)}return n}function er(e,t){var n=null;if('string'==typeof(n='string'==typeof e[Te]?Zn(e[we],e[Te],t):'string'==typeof e[be]?zn(e[we],e[be],t):Xn(e[we],t))){n=n.replace(/\n\t/g,'').trim();var r=new RegExp(e[he]||'.*'),i=n.match(r);n=i?i[0]:n}return n}var tr=[];var nr='attntv_mstore_';function rr(e){var t=b(nr+e);return t?t.split(':')[0]:null}function ir(e){return function(t){return document.querySelector('meta['.concat(e,'="').concat(t,'"]'))}}function or(e){if(!e.includes('?'))return{};var t=e.slice(e.indexOf('?')+1);return t?t.split('&').reduce((function(e,t){var n=t.split('='),r=n[0],i=n[1];return e[r]=i,e}),{}):{}}function ar(e){return e&&Number.isInteger(e)?String((e/100).toFixed(2)):null}var cr=function(e){var n,r,i,o;e||(e=function(){var e,t,n;if(dr()){var r=null!==(t=null===(e=window.ShopifyAnalytics)||void 0===e?void 0:e.meta)&&void 0!==t?t:{},i=r.selectedVariantId,o=r.product,a=r.currency,c=void 0;if(i||(i=function(e,t){if('string'==typeof t)return or(e)[t]||null;var n=or(e),r=Object.keys(n).find((function(e){return t.test(e)}));return r&&n[r]?n[r]:null}(null===(n=null===window||void 0===window?void 0:window.location)||void 0===n?void 0:n.href,'variant')||''),o){var u=o.id,s=o.variants,d=o.type;return s&&'string'==typeof i&&i.length>0?c=s.find((function(e){return String(e.id)===i})):s&&s.length>0&&(c=s[0]),{id:u,type:d,selectedVariantId:i,selectedVariant:c||void 0,currency:a}}}return null}());var a=function(){var e;if(function(){var e;return Boolean(null===(e=window.Shopify)||void 0===e?void 0:e.checkout)}())return null===(e=window.Shopify)||void 0===e?void 0:e.checkout}(),c={};if(null!=e&&(c={currency:e.currency,category:e.type,sku:String(e.id),subProductId:e.selectedVariantId},null!=e.selectedVariant)){var u=e.selectedVariant,s=u.id,d=u.price,l=u.name;c=t(t({},c),{name:l,price:ar(d),subProductId:String(s)})}return null!=a&&(c=t({uid:String(a.customer_id),orderId:String(a.order_id),cartTotal:a.total_price,email:a.email,phone:null===(n=a.billing_address)||void 0===n?void 0:n.phone,cartCoupon:null===(r=null==a?void 0:a.discount)||void 0===r?void 0:r.code,cartDiscount:null===(i=null==a?void 0:a.discount)||void 0===i?void 0:i.amount,cartCurrency:null==a?void 0:a.currency,items:null===(o=a.line_items)||void 0===o?void 0:o.map((function(e){return{name:e.title,price:e.price,quantity:String(e.quantity),image:e.image_url,sku:e.product_id,subProductId:e.variant_id}}))},c)),c};var ur=function(){var e,t;if(dr()){var n=(null!==(t=null===(e=window.ShopifyAnalytics)||void 0===e?void 0:e.meta)&&void 0!==t?t:{}).product;if(n){var r=n.variants;if(r&&r.length>0)return r}}return[]},sr=function(e){return e.find((function(e){return!!e}))};function dr(){return Boolean(Kn('ShopifyAnalytics.meta.product')(window))}var lr;function vr(){var e,t,n,r=Boolean(Kn('attn_product')(window))?window.attn_product:void 0,i=function(){if(Boolean(Kn('attn_order')(window)))return window.attn_order}(),o={};return null!=r&&(o={currency:null===(e=r.price)||void 0===e?void 0:e.currency,category:r.category,sku:r.productId,subProductId:r.productVariantId,name:r.name,image:r.productImage,quantity:r.quantity,price:null===(t=r.price)||void 0===t?void 0:t.value}),null!=i&&(o={cartTotal:i.orderTotal,email:i.email,phone:i.phone,orderId:i.orderId,items:null===(n=i.products)||void 0===n?void 0:n.map((function(e){return{sku:e.id,image:e.image,name:e.name,subProductId:e.variantId,price:e.price,quantity:e.quantity}}))}),o}var fr=((lr={}).jld=function(e){var t=e[ve],n=document.querySelectorAll('script[type="application/ld+json"]');if(n.length>0){var r={};return Array.from(n).some((function(e){var t;try{var n=JSON.parse(e.innerHTML);if(n&&'product'===(null===(t=n['@type'])||void 0===t?void 0:t.toLowerCase()))return r=n,!0}catch(e){}return!1})),Object.keys(t).reduce((function(e,n){var i=t[n];if('string'==typeof i){var o=r[i];o&&('object'!=typeof o?e[n]=o:'object'==typeof o&&o[n]&&(e[n]=o[n]))}return e}),{})}return{}},lr.met=function(e){for(var n={},r=Object.entries(t({},e[ve])),i=ir('property'),o=ir('name'),a=ir('itemprop'),c=0,u=r;c<u.length;c++){var s=u[c],d=s[0],l=s[1];if('string'==typeof l){var v=i(l)||o(l)||a(l);v&&(n[d]=v.getAttribute('content'))}}return n},lr.shp=function(e,t){var n;return(null==e?void 0:e[Le])&&(n=function(e,t){var n=[],r=ur();return null==e||e.forEach((function(e){var i=(0,fr[e[de]])(e,t),o=function(e,t){return t.find((function(t){return String(t.id)===e}))}(null==i?void 0:i.subProductId,r);o&&n.push(o)})),n.push(r[0]),function(e){var t,n;if(dr()){var r=null!==(n=null===(t=window.ShopifyAnalytics)||void 0===t?void 0:t.meta)&&void 0!==n?n:{},i=r.product,o=r.currency;if(i)return{id:i.id,type:i.type,selectedVariantId:''.concat((null==e?void 0:e.id)||''),selectedVariant:e||void 0,currency:o}}return null}(sr(n))}(e[Le],t)),cr(n)},lr.ltc=function(){return{email:rr('email'),phone:rr('phone'),cartCoupon:rr('cartCoupon')}},lr.dsp=function(e,t){var n,r=e[ve],i=e.cs;if(null!=i&&e[Ce]){var o=document.querySelectorAll(i),a=Array.from(o).map((function(e){return Qn(r,e)}));return(n={})[e[Ce]||'']=a,n}return t&&t.trigger&&t.trigger[Ae]?Qn(r,t.trigger[Ae]):Qn(r,document)},lr.wsp=function(e){var t,n=e[ve];return t=e[Ae]?Kn(e[Ae]||'')(window):window,Object.entries(n).reduce((function(e,n){var r=n[0],i=n[1];return e[r]=Kn(i||'',null)(t),e}),{})},lr.dls=function(e,t){var n;if(!window.dataLayer||!Array.isArray(window.dataLayer))return{};var r={},i=((n={})[ut]=[],n[lt]=['viewitem','viewcontent'],n[st]=['addtocart'],n[vt]=['purchase'],n[gt]=[],n.i=[],n[rt]=[],n);if((null==t?void 0:t.dataType)&&t.dataType!==dt&&t.dataType!==mt){var o=i[t.dataType],a=window.dataLayer.find((function(e){if(function(e){return'object'==typeof e}(e)&&'string'==typeof(null==e?void 0:e.event)){var t=e.event.toLowerCase().replace(/[^a-z]/gi,'');return o.includes(t)&&!tr.includes(e)}return!1}));a&&(tr.push(a),r='object'==typeof(null==a?void 0:a.ecommerce)?a.ecommerce:a)}return r},lr.wce=vr,lr.cmps=function(e,t){for(var n,r={},i=0,o=Object.entries(e[ve]||{});i<o.length;i++){var a=o[i],c=a[0],u=a[1];if(u)for(var s=0,d=u;s<d.length;s++){var l=d[s],v=null;if('dsp'===l[de]){var f=document,p=null===(n=null==t?void 0:t.trigger)||void 0===n?void 0:n[Ae];if('string'==typeof p){var g=document.querySelector(p);null!=g&&(f=null!=g?g:document)}else p instanceof HTMLElement&&(f=p);v=er(l,f)}else'wsp'===l[de]?v=Kn(l[Ie],null)(window):'qpsp'===l[de]&&(v=new URLSearchParams(location.search).get(l[Oe]));if(v){r[c]=v;break}}}return r},lr.crt=function(e){var t=e.pf,n=e.rs,r=e.ps,i=document.querySelector(n);return i?function(e,t,n){var r=n.querySelectorAll(t);return{items:Array.from(r).map((function(t){return Jn(e,t)}))}}(t,r,i):{}},lr);var pr=function(e,t){var n=t&&t[ve]||{},r=i(i([],['cartCoupon','cartDiscount','cartTotal','category','currency','email','image','items','name','orderId','phone','price','productId','quantity','sku','subProductId','uid'],!0),Object.keys(n),!0),o=['*'];return'object'==typeof e.enr&&o.push.apply(o,Object.keys(e.enr)),function(e){for(var t={},i=0,a=r;i<a.length;i++)for(var c=a[i],u=0,s=n[c]||o;u<s.length;u++){var d=s[u];'*'!==d||t[c]||(t[c]=null==e?void 0:e.trigger[c]),e[d]&&e[d][c]&&!t[c]&&(t[c]=e[d][c])}if(e.trigger)for(var l=0,v=Object.keys(e.trigger);l<v.length;l++){t[c=v[l]]||(t[c]=null==e?void 0:e.trigger[c])}for(var f=0,p=r;f<p.length;f++){t[c=p[f]]||delete t[c]}return t}};function gr(e){var t=e.split('.');return function(e){var n={};if('object'==typeof e){for(var r=0,i=t;r<i.length;r++){var o=i[r];n=e[o]?e[o]:e}return n}}}function mr(e,t){var n,r,i=null;if(Array.isArray(t))i=t.map((function(t){return mr(e,t)}));else if(null!==t&&'object'==typeof t&&e[ve]){for(var o=0,a=Object.keys(t);o<a.length;o++){var c=a[o];e[ve][c]&&t[c]&&(t[c]=(n=e[ve][c],r=t[c],n.reduce(yr,r)))}i=t}return i}function yr(e,t){switch(t.type){case re:return function(e,t){for(var n=t,r=0,i=e.cfg;r<i.length;r++){var o=i[r];n=n.replace(new RegExp(o[0],'g'),o[1])}return n}(t,e);case ne:return function(e,t){for(var n=t,r=0,i=e.cfg;r<i.length;r++){var o=i[r],a=o[0],c=o[1];if(a>=0)n=n.slice(0,a)+c+n.slice(a);else if(-1===a)n=n.slice(a+1)+c;else{var u=n.slice(0,n.length+a),s=n.slice(a);n=u+c+s}}return n}(t,e);case te:return function(e,t){for(var n=t,r=0,i=e.cfg;r<i.length;r++){var o=i[r];n=n.slice(o[0],o[1])}return n}(t,e);default:return e}}function _r(e,n,r){var i=(e||Object.keys(n[ce]||{})).reduce((function(e,i){var o,a,c=null===(o=n[ce])||void 0===o?void 0:o[i];if(!c)return e;switch(c[de]){case Q:var u=function(e){function n(t){return Object.keys(e[ve]).reduce((function(t,n){if(null==n?void 0:n.includes('.')){var r=e[ve][n],i=Kn(n)(t);i&&(t[r]=i)}else if(null==t?void 0:t[n]){if((r=e[ve][n])===n)return t;t[r]=t[n],delete t[n]}return t}),t)}var r=e[se];return function(e){return r.reduce((function(e,t){if(e[t])e[t]=n(e[t]);else if(t.includes('.')){var r=Kn(t,null)(e);Array.isArray(r)&&r.forEach((function(e){e&&n(e)}))}return e}),t({},e))}}(c);return e=u(r);case ee:u=(a=c,function(e){for(var t=0,n=a[se];t<n.length;t++){var r=n[t];if(r.includes('.')){var i=mr(a,Kn(r)(e));gr(r)(i)}else e[r]=mr(a,Kn(r)(e))}return e});return e=u(r);default:return e}}),t({},r)),o=(e||Object.keys(n[ce]||{})).reduce((function(e,t){var i,o=null===(i=n[ce])||void 0===i?void 0:i[t];if(!o)return e;if(o[de]===Z){var a=pr(n,o);return e.transformed=a(r),e}return e}),t({},i));return o}function hr(e,n,r){var i;if((null===(i=n.meta)||void 0===i?void 0:i.dataType)===mt)return n.data;var o,a=r||{},c=function(t){var n=Gn(t);return _r(a[ce],e,n)}((o={trigger:n.data},function(e,n,r,i){var o=(e||Object.keys(n.enr||{})).reduce((function(e,o){var a,c=null===(a=n[ae])||void 0===a?void 0:a[o];if(!c)return e;var u=c[de],s=fr[u];return s&&(r[o]=s(c,i)),t(t({},e),r)}),r);return o}(a[ae],e,o,n.meta))),u=c.trigger;return c.transformed||u}var Er=12e4;function Cr(e,t){return n(this,void 0,void 0,(function(){var n,i,o;return r(this,(function(r){switch(r.label){case 0:return[4,On((function(){var e;return Boolean(null===(e=window.ShopifyAnalytics)||void 0===e?void 0:e.meta)}),Er).catch((function(){}))];case 1:return r.sent(),'product'===Kn('ShopifyAnalytics.meta.page.pageType')(window)&&(n=lt,i=cr(),o=function(r){return t(un(r,{trigger:{id:e[ue]},source:W,dataType:n}))},i&&o(i)),[2]}}))}))}function wr(e,t){return'*'===e||(new RegExp(e).test(t||'')||(null==t?void 0:t.includes(e))||!1)}var Ir='[0-9]+\\/checkouts\\/\\w+\\/thank_you';function br(e,t){return n(this,void 0,void 0,(function(){var n,i,o;return r(this,(function(r){return('thank_you'===Kn('Shopify.Checkout.step')(window)||wr(Ir,window.location.href))&&(n=vt,i=cr(),o=function(r){return t(un(r,{trigger:{id:e[ue]},source:W,dataType:n}))},i&&o(i)),[2]}))}))}function Tr(e,t,n={}){const{leading:r=!1,trailing:i=!0,maxWait:o}=n;let a,c,u,s=0,d=0;function l(t){const n=c||[];return c=void 0,d=t,u=e(...n),u}function v(e){const n=e-s;return 0===s||n>=t||n<0||void 0!==o&&e-d>=o}function f(){const e=Date.now();if(v(e))return p(e);a=setTimeout(f,function(e){const n=e-d,r=t-(e-s);return void 0===o?r:Math.min(r,o-n)}(e))}function p(e){return a&&clearTimeout(a),a=void 0,i&&c?l(e):(c=void 0,u)}function g(...e){const n=Date.now(),i=v(n);return c=e,s=n,i?a?(clearTimeout(a),a=setTimeout(f,t),l(s)):(d=o=s,a=setTimeout(f,t),r?l(o):u):(void 0===a&&(a=setTimeout(f,t)),u);var o}return g.cancel=function(){a&&clearTimeout(a),s=0,d=0,c=void 0,a=void 0},g.flush=function(){return a?p(Date.now()):u},g}function Ar(e,t,n){const r=n?.(e,t);if('boolean'==typeof r)return r;if(e===t)return!0;if((void 0===e||void 0===t||null===e||null===t)&&(e||t))return!1;const i=e?.constructor.name,o=t?.constructor.name;if(i!==o)return!1;if('Array'===i){if(e.length!==t.length)return!1;let r=!0;for(let i=0;i<e.length;i++)if(!Ar(e[i],t[i],n)){r=!1;break}return r}if('Object'===i){let r=!0;const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(let o=0;o<i.length;o++)if(!Ar(e[i[o]],t[i[o]],n)){r=!1;break}return r}return e===t}function Sr(e,t){var n=function(e){var t=Object.entries(e);return function(e,n){for(var r=n[0],i=n[1],o=0,a=t;o<a.length;o++){var c=a[o],u=c[0],s=c[1];if(s===r)e[u]=Pr(i);else if(Array.isArray(s)&&s.includes(r)){if(Object.keys(e).includes(u)&&null!=e[u])return e;e[u]=Pr(i)}else'string'==typeof s&&Or.test(s)&&new RegExp(Lr(s)).test(r)&&(e[u]=Pr(i))}return e}}(e);return function(e){return Object.entries(e).reduce(n,t||{})}}var Or=/^\/.*\/$/;function Lr(e){return e.substring(1,e.length-1)}var Nr=/^\[.*\]$/;function Pr(e){if(!Nr.test(e))return e;try{return JSON.parse(e)}catch(t){return e}}var kr=function(e){return function(t){return wr(e,t.name)}};function Rr(e){var t=e.pluginConfig,n=t[pe],r=t[ge],i=Object.entries(r).reduce((function(e,t){var n=t[0],r=t[1];return r&&(e[r]=n),e}),{});return function(e){var r=or(decodeURIComponent(e.name)),o=r[n],a=i[o];if(a){var c=function(e,t){var n=e[fe],r=n[me],i=t in n?n[t]:r,o=e[ve],a=null!=i?i[ve]:null;return null!=a&&a in o?Sr(o[a]):function(){}}(t,a)(r);if(c)return un(c,{source:t[le],trigger:{id:t[ue]},dataType:a})}return null}}function Br(e){return{type:J,parse:Rr({pluginConfig:e}),shouldParse:kr(e[ye])}}var xr=function(e){return Array.isArray(e)?e:[e]},Dr=function(e){return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return r&&xr(r).forEach((function(t){return e[t.toLowerCase()]=n})),e}),{})},Mr=function(e){return Object.entries(e||{}).reduce((function(e,t){var n=t[0],r=t[1];return r&&xr(r).forEach((function(t){return e[t]=n})),e}),{})};var Ur=function(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if(Object.prototype.hasOwnProperty.call(t,o)){var a=t[o];if(Array.isArray(a)||'object'==typeof a)return xr(a)}}for(var c=[JSON.parse(JSON.stringify(e)||'{}')];c.length>0;){var u=c.shift();if('object'==typeof u&&null!==u){var s=Object.keys(u).find((function(e){return n.includes(e)}));if(s){var d=u[s];if(delete u[s],Array.isArray(d))return d;if('object'==typeof d&&null!==d)return[d]}else for(var o in u)c.push(u[o])}}return[]},Hr=function(e,t,n){var r={};return t.forEach((function(t){var i=n[t]||t;if(null==t?void 0:t.includes('.')){var o=Kn(t)(e);o&&(r[i]=o)}else(null==e?void 0:e[t])&&(r[i]=null==e?void 0:e[t])})),r};function Fr(e){var n=e.pluginConfig,r={category:['item_category'],image:['imageUrl'],name:['title','item_name','productName'],price:['variantPrice','productPrice'],currency:['variantCurrency','productCurrency','currencyCode'],quantity:['orderQuantity'],productId:['id','item_id','product_id'],subProductId:['variantSku','variantId','variant_id','subproduct_id'],cartCoupon:['purchase.actionField.coupon'],cartTotal:['purchase.actionField.subtotal','purchase.actionField.subtotalWithShipping'],cartCurrency:['currency'],orderId:['transaction_id','order_id']},i=n[ge],o=xr(n[Ce]),a=Dr(i),c=function(e){var t=[];t.push.apply(t,Object.keys(e));for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=xr(e[i]);t.push.apply(t,o)}return t}(n[ve]||r),u=Mr(n[ve]||r),s={};return function(){var e,r=null;return Array.isArray(window.dataLayer)?(null===(e=window.dataLayer)||void 0===e||e.forEach((function(e){var i,d,l=null==e?void 0:e['gtm.uniqueEventId'];if(!l||!Object.prototype.hasOwnProperty.call(s,l)){s[l]='processed';var v=(null==e?void 0:e.event)||(null==e?void 0:e[1])||'cannot process';if('string'==typeof v){'ecommerce'===(null==v?void 0:v.toLowerCase())&&(v=(null===(i=null==e?void 0:e.eventDescription)||void 0===i?void 0:i.toLowerCase())||(null===(d=null==e?void 0:e.eventName)||void 0===d?void 0:d.toLowerCase())||'cannot process');var f,p=(null==v?void 0:v.toLowerCase())||'',g=a[p]||a[null==p?void 0:p.replace(/ /g,'_')];if(!g){var m=null==e?void 0:e.eventAction;if('string'==typeof m){var y=(null==m?void 0:m.toLowerCase())||'';g=a[y]||a[null==y?void 0:y.replace(/ /g,'_')]}}if(g){'event'===(null==e?void 0:e[0])?f=null==e?void 0:e[2]:(null==e?void 0:e.ecommerce)?f=null==e?void 0:e.ecommerce:(null==e?void 0:e.ecommerceGA4)?f=null==e?void 0:e.ecommerceGA4:(null==e?void 0:e[''.concat(v,'Data')])&&(f=null==e?void 0:e[''.concat(v,'Data')]);var _=Ur(f,e,o);_.length;var h=Hr(t(t({},f),e),c,u),E=_.map((function(e){return Hr(e,c,u)}));h=t(g!==vt?t({},E[0]):{items:E},h),r=un(h,{source:n[le],trigger:{id:n[ue]},dataType:g})}}}})),r||null):null}}var Vr={category:'pr\\dca',currency:'^cu$',name:'pr\\dnm',orderId:'^ti$',cartTotal:'^tr$',price:'pr\\dpr',quantity:'pr\\dqt',sku:'pr\\did'};function jr(e){var n=e.pluginConfig,r=n[pe],i=n[ge],o=Object.entries(i).reduce((function(e,t){var n=t[0],r=t[1];return r&&(Array.isArray(r)?r.forEach((function(t){return e[t.toLowerCase()]=n})):e[r.toLowerCase()]=n),e}),{});return function(e){var i,a,c,u,s,d,l,v=or(decodeURIComponent(e.name));if('string'==typeof r)c=null===(i=v[r])||void 0===i?void 0:i.toLowerCase(),u=o[c];else if(Array.isArray(r))for(var f=0,p=r;f<p.length;f++){var g=p[f];if(v[g]&&(c=null===(a=v[g])||void 0===a?void 0:a.toLowerCase(),u=o[c]))break}if(u){if(!n[fe][me]&&!(u in n[fe]))return null;var m=Vr;n[ve]&&(m=t(t({},m),n[ve]));var y=(s=m,d=v,l={},Object.entries(s).forEach((function(e){var t=e[0],n=e[1];l[t]||(l[t]=[]),Object.entries(d).forEach((function(e){var r=e[0],i=e[1];new RegExp(n,'i').test(r)&&l[t].push(i)}))})),l),_=function(e){var n={},r=[];Object.entries(e).forEach((function(e){var t=e[0],i=e[1];1===i.length?n[t]=i[0]:i.forEach((function(e,n){e&&(r[n]||(r[n]={}),r[n][t]=e)}))})),r.length?r.forEach((function(e,i){r[i]=t(t({},e),n)})):r.push(t({},n));return r}(y),h=void 0;if(_&&(h=u===vt?{items:_}:t({},_[0])),h)return un(h,{source:n[le],trigger:{id:n[ue]},dataType:u})}return null}}function Gr(e,t){var n,r,i,o;void 0===t&&(t=0);var a=3&e.length,c=e.length-a,u=3432918353,s=461845907;for(n=t,o=0;o<c;)i=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24,++o,n=27492+(65535&(r=5*(65535&(n=(n^=i=(65535&(i=(i=(65535&i)*u+(((i>>>16)*u&65535)<<16)&4294967295)<<15|i>>>17))*s+(((i>>>16)*s&65535)<<16)&4294967295)<<13|n>>>19))+((5*(n>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(i=0,a){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:n^=i=(65535&(i=(i=(65535&(i^=255&e.charCodeAt(o)))*u+(((i>>>16)*u&65535)<<16)&4294967295)<<15|i>>>17))*s+(((i>>>16)*s&65535)<<16)&4294967295}return n^=e.length,n=2246822507*(65535&(n^=n>>>16))+((2246822507*(n>>>16)&65535)<<16)&4294967295,n=3266489909*(65535&(n^=n>>>13))+((3266489909*(n>>>16)&65535)<<16)&4294967295,(n^=n>>>16)>>>0}function qr(e){var t=document.querySelectorAll('button.tocart');function n(){var n=!1;t.forEach((function(e){var t,r;n=n||'Added'===(null===(r=null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.getNamedItem('title'))||void 0===r?void 0:r.value)})),n&&e()}t.forEach((function(e){new MutationObserver(n).observe(e,{attributes:!0})}))}function Yr(e){try{fetch('/attentivemobile/cart/get').then((function(e){return e.json()})).then((function(t){var n,r,i,o=t,a=Xr(),c=String(Gr(JSON.stringify(t)));if(o.entity_id&&(null===(n=a.get(o.entity_id))||void 0===n?void 0:n.cartHash)!==c){for(var u=Zr(o.attentive_cart_items),s=null===(r=a.get(o.entity_id))||void 0===r?void 0:r.cart,d=[],l=[],v=function(n){var r=function(e){var t={};return t.productId=e.product_id,t.quantity=e.qty,t}(n);if(d.push(r),'configurable'!==n.product_type){var i=Qr(n,o.attentive_cart_items,o,u);i.currency=t.quote_currency_code,i.cartCurrency=i.currency,l.push(i),(!s||(null==s?void 0:s.filter((function(e){return Ar(e,r)})).length)<1)&&e(dn(i,{dataType:st,source:X}))}},f=0,p=null!==(i=o.attentive_cart_items)&&void 0!==i?i:[];f<p.length;f++){v(p[f])}var g={};g.items=l,g.products=g.items,g.uid=String(o.customer_id),g.cartTotal=o.grand_total,g.cartCoupon=o.coupon_code,g.email=o.customer_email,e(dn(g,{dataType:ut,source:X})),a.set(o.entity_id,{cartHash:c,cart:d}),zr(a)}})).catch((function(e){return At(j,e)}))}catch(e){At(j,e)}}function $r(e,t,n){var r=new Map,i=document.querySelectorAll('div.swatch-attribute');function o(e){try{e.forEach((function(){var e,o;i.forEach((function(e){var t=e.attributes.getNamedItem('data-attribute-code'),n=e.attributes.getNamedItem('data-option-selected');t&&n&&r.set(t.value,n.value)}));var a=!0;if(r.forEach((function(e){a=a&&null!==e})),a){var c=null!==(o=null===(e=null==t?void 0:t.attentive_variants)||void 0===e?void 0:e.filter((function(e){var t=!0;return r.forEach((function(n,r){t=t&&e[r]===n})),t})))&&void 0!==o?o:[];if(!(c.length<1)){var u=c[0];n(u)}}}))}catch(e){At(j,e)}}i.forEach((function(e){try{var t=e.attributes.getNamedItem('data-attribute-code');t&&r.set(t.value,null),new MutationObserver(o).observe(e,{attributes:!0})}catch(e){At(j,e)}}))}function Jr(e,t){return n(this,void 0,void 0,(function(){var n,i,o,a,c,u,s,d,l,v,f,p,g;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch('/attentivemobile/store/get')];case 1:return[4,r.sent().json()];case 2:return n=r.sent(),i=document.getElementById('attnProductInfo'),(o=null===(p=null==i?void 0:i.attributes)||void 0===p?void 0:p.getNamedItem('data-product-info'))?(a=atob(o.value.trim()),'configurable'!==(c=JSON.parse(a)).type_id?((d={}).productId=c.entity_id,d.subProductId=c.entity_id,d.sku=d.productId,d.name=c.name,l=null==n?void 0:n.attentive_secure_base_media_url,v=null==c?void 0:c.small_image,l&&v&&(d.image=l+'catalog/product'+v),t(un(d,{trigger:{id:e[ue]},dataType:lt,source:X})),[2]):(u=null!==(g=null==c?void 0:c.attentive_variants)&&void 0!==g?g:[]).length<1?[2]:(s=u[0],(d={}).productId=c.entity_id,d.subProductId=s.entity_id,d.sku=d.productId,d.name=s.name,l=null==n?void 0:n.attentive_secure_base_media_url,v=null==s?void 0:s.small_image,l&&v&&(d.image=l+'catalog/product'+v),t(un(d,{trigger:{id:e[ue]},dataType:lt,source:X})),$r(n,c,(function(r){return i=r,o=n,(a={}).productId=c.entity_id,a.subProductId=i.entity_id,a.sku=a.productId,a.image=o.attentive_secure_base_media_url+'catalog/product'+i.small_image,a.name=i.name,void t(un(a,{trigger:{id:e[ue]},dataType:lt,source:X}));var i,o,a})),[3,4])):[2];case 3:return f=r.sent(),At(j,f),[3,4];case 4:return[2]}}))}))}function Wr(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(n){try{!function(e,t){fetch('/attentivemobile/order/get').then((function(e){return e.json()})).then((function(n){return function(e,t,n){var r,i,o,a;try{for(var c=[],u=Zr(e.attentive_order_items),s=0,d=null!==(i=null===(r=null==e?void 0:e.attentive_order_items)||void 0===r?void 0:r.filter((function(e){return'configurable'!==e.product_type})))&&void 0!==i?i:[];s<d.length;s++){var l=d[s],v=Qr(l,e.attentive_order_items,e,u);v.currency=e.order_currency_code,v.cartCurrency=v.currency,v.orderId=e.entity_id,v.quantity=l.qty_ordered,v.phone=null===(o=null==e?void 0:e.attentive_order_billing_address)||void 0===o?void 0:o.telephone,c.push(v)}var f={};f.items=c,f.email=e.customer_email,f.phone=null===(a=null==e?void 0:e.attentive_order_billing_address)||void 0===a?void 0:a.telephone,f.uid=String(e.customer_id),f.cartTotal=e.grand_total,f.cartCoupon=e.coupon_code,n(un(f,{trigger:{id:t[ue]},dataType:vt,source:X}));var p=Xr();e.quote_id&&p.delete(e.quote_id),zr(p)}catch(e){At(j,e)}}(n,e,t)})).catch((function(e){return At(j,e)}))}(e,t)}catch(e){At(G,e)}return[2]}))}))}var Kr='attn_magento_cart';function Xr(){var e,t,n=null!==(e=sessionStorage.getItem(Kr))&&void 0!==e?e:'{}';try{t=JSON.parse(n)}catch(e){t={}}return new Map(Object.entries(t))}function zr(e){sessionStorage.setItem(Kr,JSON.stringify(Object.fromEntries(e.entries())))}function Zr(e){var t,n;void 0===e&&(e=[]);for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i];if('configurable'===(null==a?void 0:a.product_type)&&(null==a?void 0:a.product_id))for(var c=0,u=Object.entries(null!==(n=null===(t=null==a?void 0:a.attentive_product)||void 0===t?void 0:t.attentive_configurable_product_links)&&void 0!==n?n:[]);c<u.length;c++){var s=u[c];s[0];var d=s[1];r.set(d,a.product_id)}}return r}function Qr(e,t,n,r){var i,o;void 0===t&&(t=[]);var a={},c=e.product_id?r.get(e.product_id):void 0;if(c){a.productId=c;var u=t.filter((function(t){return t.product_id===c&&t.sku===e.sku}));u.length>0&&(a.quantity=u[0].qty,a.price=u[0].price)}else a.productId=e.product_id,a.quantity=e.qty;var s=null===(i=n.attentive_store)||void 0===i?void 0:i.attentive_secure_base_media_url,d=null===(o=e.attentive_product)||void 0===o?void 0:o.small_image;return s&&d&&(a.image=s+'catalog/product'+d),a.subProductId=e.product_id,a.sku=a.productId,a.name=e.name,a.email=n.customer_email,a.uid=String(n.customer_id),a.cartTotal=n.grand_total,a.cartCoupon=n.coupon_code,a}function ei(){return Boolean(Boolean(window.ShopifyAnalytics)||Boolean(window.Shopify))}var ti,ni=1e3;function ri(e){return n(this,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:return t=Date.now(),ti&&t-ti<1500?[2]:(e===di&&(ti=Date.now()),[4,fetch('/cart.json')]);case 1:if(!(n=r.sent()).ok)throw new Error(n.statusText);return[4,n.json()];case 2:return[2,r.sent()]}}))}))}var ii='attn_cart',oi='attn_cart_items';function ai(e){return sessionStorage.getItem(e)}function ci(e,t){sessionStorage.setItem(e,t)}function ui(e){return''.concat(e.id,':').concat(e.variant_id,':').concat(e.quantity)}function si(e,t){var n=e.items.map(ui);ci(ii,t),ci(oi,JSON.stringify(n))}var di=2;function li(e,t,n){return void 0===t&&(t='USD'),void 0===n&&(n=!0),{category:e.product_type,image:e.image,name:e.product_title||e.title,productId:e.product_id,quantity:String(e.quantity),price:n?ar(e.price):String(e.price),subProductId:e.variant_id,currency:t}}function vi(e,t){return void 0===t&&(t=!0),{products:e.items.map((function(n){return li(n,e.currency,t)})),cartId:e.token,cartTotal:t?ar(e.total_price):String(e.total_price),cartCurrency:e.currency}}function fi(e,t){return n(this,void 0,void 0,(function(){var n,i,o,a,c,u,s,d,l,v,f;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ri(t)];case 1:if(!(n=r.sent()))return[2];if(0===n.items.length&&t===di)return function(e){var t=cr();t&&Object.keys(t).length>0&&e(dn(t,{dataType:st,source:W}))}(e),[2];if(i=function(){var e;return JSON.parse(null!==(e=ai(oi))&&void 0!==e?e:'[]')}(),o=vi(n,!1),a=JSON.stringify(n.items),c=ai(ii),u=String(Gr(a)),s=c!==u,!c)return si(n,u),[2];if(i&&s){for(si(n,u),d=0,l=n.items;d<l.length;d++)v=l[d],i.includes(ui(v))||e(dn(li(v,n.currency),{dataType:st,source:W}));e(dn(o,{dataType:ut,source:W}))}return[3,3];case 2:return f=r.sent(),At(F,f),[3,3];case 3:return[2]}}))}))}function pi(e,t){return document.addEventListener('pointerup',(function(n){var r=n.target,i=(e[_e]||yt).some((function(e){var t,i=null;try{t=document.querySelectorAll(e),i=function(e,t){var n=function(e){return'function'==typeof e.composedPath?e.composedPath():[]}(e),r=Array.from(t);return 0===r.length?null:r.find((function(e){return n.includes(e)}))||null}(n,t)}catch(e){}var o=null==r?void 0:r.textContent;if(o&&o.length>1e4)return!1;var a=o?o.toLowerCase().replace(/\n\t/g,'').trim():'',c=e.toLowerCase();return!(!i&&a!==c)}));i&&setTimeout(fi,ni,t,di)}),!0)}var gi,mi,yi=12e4;function _i(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,On((function(){var e;return Boolean(null===(e=window.ShopifyAnalytics)||void 0===e?void 0:e.meta)}),yi).catch((function(){}))];case 1:return n.sent(),'product'===Kn('ShopifyAnalytics.meta.page.pageType')(window)?(gi&&clearInterval(gi),gi=window.setInterval((function(){var n,r=function(){var e=document.querySelector('[name=id]');if(e&&'value'in e)return e.value}();r&&r!==mi&&(mi=r,t(un({},{trigger:(n={id:e[ue]},n[Ne]=!0,n),source:W,dataType:lt})))}),500),[2]):[2]}}))}))}var hi='attn_cart',Ei='attn_cart_items';function Ci(e){return sessionStorage.getItem(e)}function wi(e,t){sessionStorage.setItem(e,t)}function Ii(e){return{image:e.image,name:e.name,productId:String(e.product_id),quantity:String(e.quantity),price:e.price,subProductId:String(e.variation_id)}}function bi(e){return n(this,void 0,void 0,(function(){var t,n,i,o,a,c,u,s,d,l,v,f;return r(this,(function(r){if(!Boolean(Kn('woocommerce_params')(window)))return[2];try{if(!(t=window.attn_cart))return[2];if(n=null===(v=window.attn_cart)||void 0===v?void 0:v.products,i=JSON.stringify(n),o=Ci(hi),a=String(Gr(i)),c=n?function(e){return Object.keys(e).map((function(t){return''.concat(e[t].product_id,':').concat(e[t].variation_id,':').concat(e[t].quantity)}))}(n):null,a===o)return[2];if(u=JSON.parse(null!==(f=Ci(Ei))&&void 0!==f?f:'[]'),wi(Ei,JSON.stringify(c)),wi(hi,a),t&&n){if(s=function(e){var t=e.products;return{products:Object.keys(t).map((function(e){return Ii(t[e])})),cartTotal:e.cartTotal}}(t),d=void 0,u.length!==Object.keys(n).length)for(l in n)u.includes(''.concat(n[l].product_id,':').concat(n[l].variation_id,':').concat(n[l].quantity))||(d=Ii(n[l]));d&&e(dn(d,{dataType:st,source:K})),e(dn(s,{dataType:ut,source:K}))}}catch(e){At(V,e)}return[2]}))}))}function Ti(e){return function(e){return e[de]===J}(e)||function(e){return e[de]===q}(e)||function(e){return e[de]===Y}(e)||function(e){return e[de]===z}(e)}function Ai(e,t,n){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.shouldParse(t)){var a=o.parse(t);a&&n(a)}}}var Si,Oi,Li=['view_item','enhanceEcom productView','Viewed Product','Product Details','Product Viewed','product detail view','Product Details Viewed','Product Detail Views','Product Details View','product detail','pdp view','Product Page','detail','detailView','dl_view_item','triggerProductDetail','product-detail-view','productDetail','productViewed','bva_view_item'],Ni=['add_to_cart','enhanceEcom addToCart','add','Added Product','Adding To A Shopping Cart','Add To Bag','add to wishlist','add to cart quickview','add to cart standard','Add To Cart','Added Product','Cart Item Added','Product Add To Cart','Ecommerce:Items Added to Cart','addToCart','dl_add_to_cart','product add to cart','bva_add_to_cart','productAdd','product_added'],Pi=['purchase','enhanceEcom purchase','Completed Order','sale','transaction','checkout order completed','ordercomplete','onepagecheckout','ecommerce: purchase','ecommerce:purchase','order_completed','order_complete','purchase_complete','bva_purchase','dl_purchase'],ki={category:['item_category'],image:['imageUrl','imageURL','imageurl'],name:['title','item_name','productName'],price:['variantPrice','productPrice'],currency:['variantCurrency','productCurrency','currencyCode'],quantity:['orderQuantity'],productId:['id','item_id','product_id'],subProductId:['shopify_variant_id','variantSku','variantId','variant_id','subproduct_id'],cartCoupon:['purchase.actionField.coupon'],cartTotal:['purchase.actionField.subtotal','purchase.actionField.subtotalWithShipping'],cartCurrency:['currency'],orderId:['order_id','orderNumber','order_number','transaction_id','transactionId','purchase.actionField.id']},Ri=function(e,t){return xr(e||[]).concat(xr(t||[]))};function Bi(e,t){var n,r;return t?e:((n={})[ue]=e.id,n[de]=z,n[ve]=ki,n[le]=z,n[Ce]=['products','items'],n[ye]='/collect?',n[pe]='ea',n[ge]=((r={})[lt]=Ri(Li,e[ge][lt]),r[st]=Ri(Ni,e[ge][st]),r[vt]=Ri(Pi,e[ge][vt]),r),n[fe]=function(e){var t,n,r,i,o,a={};e.ev[me]&&Object.assign(a,(t={},t[me]=e.ev[me],t));e.ev[lt]&&Object.assign(a,(n={},n[lt]=e.ev[lt],n));e.ev[st]&&Object.assign(a,((r={})[st]=e.ev[st],r));e.ev[pt]&&Object.assign(a,((i={})[pt]=e.ev[pt],i));e.ev[vt]&&Object.assign(a,((o={})[vt]=e.ev[vt],o));return a}(e),n)}function xi(e){var t,n,r=((t={})[ue]=e.id,t[de]=Y,t[ve]={},t[le]=Y,t[ye]='/collect?',t[pe]=['pa','ea'],t[ge]=((n={})[lt]=['Viewed Product','Product Details','Product Viewed','product detail view','Product Details Viewed','Product Detail Views','Product Details View','product detail','pdp view','Product Page','view_item','detail'],n[st]=['add','Added Product','Adding To A Shopping Cart','Add To Bag','add to wishlist','add to cart quickview','add to cart standard','Add To Cart','Added Product','Cart Item Added','Product Add To Cart','Ecommerce:Items Added to Cart','addToCart','add_to_cart'],n[vt]=['purchase','Completed Order','sale','transaction','checkout order completed','ordercomplete','onepagecheckout','ecommerce:purchase','Order Completed'],n),t[fe]=function(e){var t,n,r,i,o,a={};e.ev[me]&&Object.assign(a,(t={},t[me]=e.ev[me],t));e.ev[lt]&&Object.assign(a,(n={},n[lt]=e.ev[lt],n));e.ev[st]&&Object.assign(a,((r={})[st]=e.ev[st],r));e.ev[pt]&&Object.assign(a,((i={})[pt]=e.ev[pt],i));e.ev[vt]&&Object.assign(a,((o={})[vt]=e.ev[vt],o));return a}(e),t);return Bi(r)}var Di=((Si={})[Y]=function(e){return{type:Y,parse:jr({pluginConfig:e}),shouldParse:(t=e[ye],function(e){return wr(t,e.name)})};var t},Si[q]=function(e){var n,r,i=Br(t(t({},e),((n={})[de]=J,n[le]=q,n[ye]='^https://www.facebook.com/tr',n[pe]='ev',n[ge]=((r={})[lt]='ViewContent',r[st]='AddToCart',r[vt]='Purchase',r),n)));return{type:q,parse:i.parse,shouldParse:i.shouldParse}},Si[J]=Br,Si[z]=function(e){return{type:z,parse:Fr({pluginConfig:e}),shouldParse:(t=e[ye],function(e){return wr(t,e.name)})};var t},Si),Mi=((Oi={})[W]=function(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(n){return ei()?((null==e?void 0:e.eatc)||(fi(t,1),function(e){var t=!1;new PerformanceObserver((function(n){for(var r=0,i=n.getEntries();r<i.length;r++){var o=i[r];if(t)return;if(o.name.includes('https://www.facebook.com/tr')&&'AddToCart'===(a=or(decodeURIComponent(o.name))).ev&&(t=!0,setTimeout((function(){return fi(e,di)}),ni)),o.name.includes('https://www.google-analytics.com/collect')){var a,c=['add','Added Product','Adding To A Shopping Cart','Add To Bag','add to wishlist','add to cart quickview','add to cart standard','Add To Cart','Added Product','Cart Item Added','Product Add To Cart','Ecommerce:Items Added to Cart','addToCart','add_to_cart'];('string'==typeof(a=or(decodeURIComponent(o.name))).ea&&c.includes(a.ea)||'string'==typeof a.pa&&c.includes(a.pa))&&(t=!0,setTimeout((function(){return fi(e,di)}),ni))}}})).observe({entryTypes:['resource']})}(t),pi(e,t)),Cr(e,t),e[Ne]&&_i(e,t),br(e,t),[2]):[2]}))}))},Oi[$]=function(e,t){var n,r=wr(e[ye],window.location.href),i=e[_e].length>0,o=function(){return t(un({},{trigger:{id:e[ue]},source:$,dataType:e.t}))};r&&(i?(null===(n=e[_e])||void 0===n?void 0:n.filter((function(e){return document.querySelector(e)})).length)&&setTimeout(o,e[Ee]):setTimeout(o,e[Ee]))},Oi.oe=function(e,t){var n=e[Ae],r=document;document.addEventListener(e.de,(function(i){var o;if(wr(e[ye],window.location.href)){var a=i.target;n&&(r=null!==(o=a.closest(n))&&void 0!==o?o:r),e[_e].some((function(o){var c,u,s=null;try{u=r.querySelectorAll(o),s=function(e,t){var n=function(e){return'function'==typeof e.composedPath?e.composedPath():[]}(e),r=Array.from(t);return 0===r.length?null:r.find((function(e){return n.includes(e)}))||null}(i,u)}catch(e){}var d=null==a?void 0:a.textContent,l=d?d.toLowerCase().replace(/\n\t/g,'').trim():'',v=o.toLowerCase();if(s||l===v){var f={source:'oe',trigger:{id:e[ue]},dataType:e.t},p=un({},f);if(!n)return t(p),!0;var g=i.target.closest(n);if(g&&(null===(c=null==p?void 0:p.meta)||void 0===c?void 0:c.trigger))return p.meta.trigger[Ae]=g,t(p),!0}return!1}))}}),!0)},Oi[K]=function(e,t){return n(this,void 0,void 0,(function(){var n,i,o,a,c,u;return r(this,(function(r){switch(r.label){case 0:return bi(t),n='\\/checkout\\/order-received\\/|\\/order-confirmed\\/',[4,On((function(){return Boolean(window.attn_product||window.attn_order)}),12e4).catch((function(){}))];case 1:return r.sent(),i=wr(n,window.location.href)&&Boolean(Kn('attn_order')(window)),o=Boolean(Kn('attn_product')(window)),(o||i)&&(a=o?lt:vt,c=vr(),u=function(n){return t(un(n,{trigger:{id:e[ue]},source:K,dataType:a}))},c&&u(c)),[2]}}))}))},Oi[X]=function(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(i){return document.getElementById('attentiveMagentoPage')?(document.getElementById('attnProductInfo')&&Jr(e,t),document.getElementById('attnOrderInfo')?Wr(e,t):function(e,t){n(this,void 0,void 0,(function(){return r(this,(function(e){try{qr((function(){Yr(t)})),Yr(t)}catch(e){At(j,e)}return[2]}))}))}(0,t),[2]):[2]}))}))},Oi.plt=function(e,t){var n=Date.now(),r=window.scrollY+window.innerHeight,i=Tr((function(){var e=window.scrollY+window.innerHeight;r=Math.max(r,e)}),200);window.addEventListener('scroll',i),window.addEventListener('visibilitychange',(function(){if('hidden'!==document.visibilityState)return r=0,void(n=Date.now());var i=Date.now()-n,o=document.documentElement.scrollHeight,a=r/o*100;t(un({scrollDepth:Math.min(a,100),timeSpent:i},{trigger:{id:e[ue]},source:'plt',dataType:e.t}))}))},Oi);function Ui(e,t,n){var r=[],i=e[oe]||[],o=/iPad|iPhone|iPod/.test(navigator.userAgent);i.forEach((function(e){var i=e.pt;if(o&&i===q){var a=xi(e);r.push(Di[a.pt](a))}else if(i===Y){var c=Bi(e,null==n?void 0:n.ua);r.push(Di[c.pt](c))}else i in Di&&Ti(e)?r.push(Di[i](e)):i in Mi&&Mi[i](e,t)})),function(e,t){if(0!==e.length){var n=0;if(!performance.getEntries||!performance.setResourceTimingBufferSize)throw new Error(x);performance.setResourceTimingBufferSize(600);try{'PerformanceObserver'in window?(r(),new PerformanceObserver((function(n){for(var r=0,i=n.getEntries();r<i.length;r++){var o=i[r];Ai(e,o,t)}})).observe({entryTypes:['resource']})):window.setInterval((function(){r()}),250)}catch(e){At(U,e)}}function r(){for(var r=0,i=window.performance.getEntries();r<i.length;r++){var o=i[r];o.startTime>n&&Ai(e,o,t),n=o.startTime}}}(r,t)}function Hi(e,t){(e[oe]||[]).forEach((function(e){var i=e.pt;i===$&&Mi[$](e,t),i===W&&function(e,t){n(this,void 0,void 0,(function(){return r(this,(function(n){return Cr(e,t),br(e,t),[2]}))}))}(e,t),i===K&&Mi[K](e,t),i===X&&Mi[X](e,t)}))}function Fi(e){var n,r,i=[];if(function(e){var t;return Boolean((null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.dataType)&&[dt,vt,st,lt,rt,ut,mt].includes(e.meta.dataType))}(e)){var o=e.data;if(o&&Array.isArray(null==o?void 0:o.items)?o.items.forEach((function(n){var r;delete(r='object'==typeof n?t(t({},e.data),n):t({productId:n},e.data)).items,i.push({type:e.type,data:r,meta:e.meta})})):e&&e.type&&i.push(e),(null===(n=e.meta)||void 0===n?void 0:n.dataType)===vt){var a=function(e){for(var t=0,n=0,r=e;n<r.length;n++){var i=r[n].data;if(i.cartTotal&&!isNaN(Number(i.cartTotal)))return i.cartTotal;var o=Number($t(i.price||'0')),a=Number(Jt(i.quantity||'1')||'1');isNaN(a)||isNaN(o)?isNaN(o)||(t+=o):t+=o*a}return String(t)}(i);i.forEach((function(e){return e.data.cartTotal=a}));var c=i.map((function(e){return e.data})),u=null===(r=c.find((function(e){return void 0!==e.orderId})))||void 0===r?void 0:r.orderId;i.push({type:e.type,data:{uid:o.uid,phone:o.phone,email:o.email,orderId:u,products:c},meta:t(t({},e.meta),{dataType:gt})})}}return i}function Vi(e,t){var n;void 0===t&&(t='every');var r=((n={})[we]=function(e){if(e.type===we){var t=document.querySelector(e[we]);return e[be]?Boolean(null==t?void 0:t.getAttribute(e[be]||'')):Boolean(t)}},n[Ie]=function(e){if(e.type===Ie)return Boolean(Kn(e[Ie])(window))},n[ye]=function(e){if(e.type===ye)return wr(e[ye],window.location.href)},n[Oe]=function(e){if(e.type===Oe)return Boolean(new URLSearchParams(window.location.search).get(e[Oe]))},n);if(!Array.isArray(e))return!0;return e[t]((function(e){return r[e.type]&&r[e.type](e)}))}var ji='attn_oid',Gi={};function qi(e){return!!function(e){return function(e){var t;try{if((null===(t=e.meta)||void 0===t?void 0:t.dataType)===vt&&e.data.orderId){var n=localStorage.getItem(ji);return String(e.data.orderId)===n}}catch(e){return At(M,e),!1}}(e)||function(e){var t=2e3,n=Yi(e);return!!n&&(Gi[n]?Date.now()-Gi[n].lastSeen:1/0)<t}(e)}(e)||(function(e){var t;if(!e.data)return;var n=Yi(e);n&&(Gi[n]={lastSeen:Date.now(),event:e});if((null===(t=e.meta)||void 0===t?void 0:t.dataType)===vt&&e.data.orderId)try{localStorage.setItem(ji,String(e.data.orderId))}catch(e){At(D,e)}}(e),!1)}function Yi(e){var t;return null===(t=e.meta)||void 0===t?void 0:t.dataType}var $i=navigator.userAgent.includes('Safari')&&!navigator.userAgent.includes('Chrome');function Ji(e){var t='onpagehide'in window&&!$i?'pagehide':'beforeunload';window.addEventListener(t,e)}function Wi(e,t){Array.isArray(t)&&(t=t.join(','));var n={phone:qt,price:$t,quantity:Jt,email:Yt,cartTotal:$t,orderId:Kt,image:Xt};return n[e]&&(t=n[e](t)),'string'==typeof t&&(t=Wt(t)),t}function Ki(e){var t=Object.keys(e.data).reduce((function(t,n){var r=e.data[n];if(''!==r&&('number'==typeof r||'string'==typeof r)){var i=Wi(n,r);t[n]=i}return t}),{});for(var n in e.data)if('products'!==n&&'items'!==n||!Array.isArray(e.data[n]))t[n]=Xi(n,e.data[n]);else{var r=Object(e.data)[n].map((function(e){var t={};for(var n in e){var r=Xi(n,e[n]);null!=r&&(t[n]=r)}return zi(t),t}));t[n]=JSON.stringify(r)}return zi(t),function(e,t){var n,r;(null===(n=e.meta)||void 0===n?void 0:n.dataType)!==vt&&(null===(r=e.meta)||void 0===r?void 0:r.dataType)!==ut||t.cartCurrency||t.currency&&(t.cartCurrency=t.currency)}(e,t),t}function Xi(e,t){if(''!==t&&('number'==typeof t||'string'==typeof t))return Wi(e,t)}function zi(e){e.sku?e.productId=e.sku:e.productId&&(e.sku=e.productId)}function Zi(e,n,r){var i,o,a=Ki(n);if(!(null===(o=n.meta)||void 0===o?void 0:o.dataType))return null;var c=JSON.stringify(t({source:n.meta.source},a)),u=P+'_'+R,s=function(e,t){var n,r,i=P+'_'+R;return Gr((null===(n=e[Ve])||void 0===n?void 0:n.val)+t.meta.dataType+i+document.referrer+e[ke]+`${(r=new Date).getUTCFullYear()}-${r.getUTCMonth()+1}-${r.getUTCDate()}-${r.getUTCHours()}-${r.getUTCMinutes()}`)}(e,n),d=e,l=Qe;d[l];var v=et;d[v];var f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&'function'==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(d,[l+'',v+'']),p=t(t({},f),((i={})[$e]='modern',i[Pe]=s,i[Fe]=u,i[De]=n.meta.dataType,i[He]=document.referrer,i[Ue]=r?function(e){return e.split('?')[0]}(window.location.href):window.location.href,i[Be]=c,i[xe]=(new Date).getTime(),i[Ke]=Dt([Ot,Lt,Nt,Pt,kt,Rt,Bt]),i));return'?'.concat(bt(p))}function Qi(e){return function(t,n){var r;if(!Nn(n)&&Ln(e,n))return'';var i=Zi(t,n,null==e?void 0:e.sqp),o=!1;if(i){var a=k+i;if(N&&window.opener)try{var c=JSON.stringify({url:a,state:t,event:n,clientConfig:e});window.opener.postMessage({type:'SERVER_EVENT',payload:c},'*')}catch(e){}if('function'==typeof(null===(r=null===window||void 0===window?void 0:window.navigator)||void 0===r?void 0:r.sendBeacon))try{return o=navigator.sendBeacon(a),a}catch(e){}return o||(new Image(1,1).src=a),a}return''}}var eo=function(){var e,t,i,o,a=!0,c=((e={})[nt]=function(e,c,u){var s,d,l,v=u.dispatch;t=c.data.clientConfiguration,i=t.ap,function(e){if(window.edgetag&&e[et]){var t={edgeURL:e[et]};e[Je]||(t.disableConsentCheck=!0),window.edgetag('init',t)}}(t),window.edgetag&&function(e){n(this,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:return void 0!==Fn?[2]:void 0!==(t=b(Vn))?(Fn=t,[2]):[4,Hn(e)];case 1:return n=r.sent(),Fn=n,S(Vn,n),[2]}}))}))}('https://cdn.attn.tv/'.concat(t.company,'/dtag.js')),l=t,o=Boolean(window.edgetag&&l[et])?Bn(t):Qi(t),t[Je]&&(a=Boolean(null===(s=e[We])||void 0===s?void 0:s.val)),(null===(d=t.cc)||void 0===d?void 0:d.dap)||function(e){var t=window.location,n=t.href,r=t.pathname;setInterval((function(){var t={href:n!==window.location.href,pathname:r!==window.location.pathname};(t.href||t.pathname)&&(n=window.location.href,r=window.location.pathname,e(cn(t)))}),500)}(v),i&&Ui(i,v,t),a&&v(sn({},{dataType:dt,source:'a'}))},e.uc=function(e,t,n){var r,o=n.dispatch;i&&Hi(i,o),(null===(r=t.data)||void 0===r?void 0:r.pathname)&&a&&o(sn({},{dataType:dt,source:'a'}))},e[ot]=function(e,n){var r;(a=!!n.data.on)&&(r=t,window.edgetag&&r[et]&&window.edgetag('consent',{all:!0}))},e.cd=function(e,n,r){var o,c,u,s=r.dispatch;if(Nn(n)||(null===(o=n.meta)||void 0===o?void 0:o.dataType)===mt)s(sn(n.data,n.meta));else if(i&&a){(null===(c=n.meta)||void 0===c?void 0:c.dataType)===st&&ei()&&!t.dase&&fi(s,di);var d=null===(u=null==n?void 0:n.meta)||void 0===u?void 0:u.trigger,l=(i[oe]||[]).find((function(e){return e[ue]===(null==d?void 0:d.id)})),v=function(e){var t=function(e,t){var n,r,i=null;if(Ti(e)){if(Ti(e)){var o=e[fe][me],a=e[fe],c=((n={})[lt]=a[lt]||o,n[st]=a[st]||o,n[vt]=a[vt]||o,n),u=null===(r=null==t?void 0:t.meta)||void 0===r?void 0:r.dataType;i=u?c[u]:null}}else i=e.pl||{};return i}(e,n);if(t){var r=function(){if(i&&t){var e=hr(i,n,t);s(sn(e,n.meta))}},o=e.wf;if(function(e){return null!=e&&'object'==typeof e}(o)){var a=null==o?void 0:o[Ee],c=null==o?void 0:o[Se],u=c&&On((function(){return Vi(c)}),a);u&&(Ji(u.cancel),u.then(r).catch((function(e){var t=e.reason;t!==Tn&&t!==An||r()})))}else r()}else s(dn(n.data,n.meta))};if(l)if(Vi(l[Se]||[],l.cndt))v(l);else if(l.asn){var f=l[Se],p=f&&On((function(){return Vi(f)}),2e4);p&&(Ji(p.cancel),p.then((function(){return v(l)})).catch((function(e){e.reason})))}}},e[at]=function(e,n,r){var i,o=r.dispatch;if(Nn(n)||a){if(qi(n)&&!t.disdedupe)return;if(!0===t.sactcu&&Nn(n)&&(null===(i=n.meta)||void 0===i?void 0:i.dataType)===st&&ri(di).then((function(e){if(e){var t=vi(e,!1);t&&o(dn(t,{dataType:ut,source:'a'}))}})),function(e){var t;return(null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.dataType)===ut}(n))o(dn(n.data,n.meta));else!function(e,t){if(e.length>0)for(;e.length;){var n=e.shift();n&&n.meta&&t(n.data,n.meta)}}(Fi(n),(function(e,t){return o(dn(e,t))}))}},e[ct]=function(e,t){o(e,t)},e);return zt(c)};let to=()=>{};const no=()=>{let e;return zt({[nt]:(t,n,{dispatch:r})=>{to(),e=n.data.clientConfiguration[Xe]?.[_t],ro(n),((t,n,r)=>{if(e&&(!t[je]||!t[Ge])){const e={[Ye]:!0,[je]:b('_fbc'),[Ge]:b('_fbp')};r(an(e))}})(t,0,r),function(e,t){if(!e||e&&!e[Ve]||e&&e[Ve]&&e[Ve].val.length>32){const e=function(){const e=b('__attentive_id');if(!e||e.length>32)return en();return e}();t(on({id:e,maxAge:21900}))}}(t,r)},[at]:(t,n,{dispatch:r})=>{if(e){const e=en();r(an({[qe]:e}))}}})},ro=e=>{const t=e.data.clientConfiguration,n=t.ido?.idos;'off'!==n?.type&&(to=function(e){const t=t=>{t.target.matches('input:not([type=password]):not([type=submit]):not([autocomplete^="cc-"])')&&e(t)};return document.addEventListener('focusout',t),()=>{document.removeEventListener('focusout',t)}}(io))},io=e=>{const t=qt(e.target.value,!0);t&&St('phone',t);const n=(e=>{const t=Yt(e);return Ft.test(t)?e:null})(e.target.value);n&&St('email',n)};var oo,ao=(e=>(e.ActionButton='ActionButton',e.AgeGating='AgeGating',e.Background='Background',e.BubbleStyles='BubbleStyles',e.CheckoutProduct='CheckoutProduct',e.CloseIcon='CloseIcon',e.CompleteYourSignupSVG='CompleteYourSignupSVG',e.Countdown='Countdown',e.DismissButton='DismissButton',e.OptionalEmailButton='OptionalEmailButton',e.Image='Image',e.Input='Input',e.LegalText='LegalText',e.Logo='Logo',e.SuccessPhoneSVG='SuccessPhoneSVG',e.TextHeader='TextHeader',e.MobileExperience='MobileExperience',e.OfferWheel='OfferWheel',e.BubbleIcon='BubbleIcon',e.PrimaryCTA='PrimaryCTA',e.SMSPrefilledText='SMSPrefilledText',e.CustomCSS='CustomCSS',e.AttributeInputs='AttributeInputs',e.PageTimeout='PageTimeout',e.FeatureFlagCondition='FeatureFlagCondition',e.CustomAlreadySubscribedError='CustomAlreadySubscribedError',e.LandingPageURL='LandingPageURL',e.PageTimeoutRedirectButton='PageTimeoutRedirectButton',e.PreEngagementConsentButton='PreEngagementConsentButton',e.PreEngagementDenyButton='PreEngagementDenyButton',e.ProductHighlight='ProductHighlight',e))(ao||{}),co=(e=>(e.INFO='INFO',e.WARNING='WARNING',e))(co||{}),uo=(e=>(e.PLAIN='PLAIN',e.BLOCK='BLOCK',e.BOLD='BOLD',e))(uo||{}),so=(e=>(e.EST='America/New_York',e.CST='America/Chicago',e.MST='America/Denver',e.PST='America/Los_Angeles',e.GMT='Europe/London',e.NST='America/St_Johns',e.AST='America/Halifax',e.AWT='Australia/Perth',e.ACWT='Australia/Eucla',e.ACT='Australia/Darwin',e.AETB='Australia/Brisbane',e.AET='Australia/Sydney',e.LHT='Australia/Lord_Howe',e.CEST='Europe/Paris',e.AZOST='Atlantic/Azores',e.ACT1='America/Rio_Branco',e.AMT='America/Manaus',e.BRT='America/Sao_Paulo',e.FNT='America/Noronha',e.PT='America/Tijuana',e.MT='America/Hermosillo',e.CT='America/Mexico_City',e.ET='America/Cancun',e.NZDT='Pacific/Auckland',e))(so||{}),lo=(e=>(e.enUS='en-US',e.enCA='en-CA',e.enGB='en-GB',e.enAU='en-AU',e.enNZ='en-NZ',e.enFR='en-FR',e.enBE='en-BE',e.enBR='en-BR',e.enCH='en-CH',e.enDE='en-DE',e.enDK='en-DK',e.enES='en-ES',e.enIT='en-IT',e.enMX='en-MX',e.enNL='en-NL',e.enNO='en-NO',e.enPL='en-PL',e.enPT='en-PT',e.enSE='en-SE',e.frFR='fr-FR',e.frBE='fr-BE',e.frCA='fr-CA',e.frCH='fr-CH',e.enIE='en-IE',e.itIT='it-IT',e.nlNL='nl-NL',e.ptPT='pt-PT',e.ptBR='pt-BR',e.esES='es-ES',e.esMX='es-MX',e.svSE='sv-SE',e.deDE='de-DE',e.nlBE='nl-BE',e.deCH='de-CH',e.plPL='pl-PL',e.noNO='no-NO',e.daDK='da-DK',e))(lo||{});function vo(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function fo(e,t){if(t.length<e)throw new TypeError(e+' argument'+(e>1?'s':'')+' required, but only '+t.length+' present')}function po(t){fo(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||'object'===e(t)&&'[object Date]'===n?new Date(t.getTime()):'number'==typeof t||'[object Number]'===n?new Date(t):new Date(NaN)}function go(t,n){if(fo(2,arguments),!n||'object'!==e(n))return new Date(NaN);var r=n.years?vo(n.years):0,i=n.months?vo(n.months):0,o=n.weeks?vo(n.weeks):0,a=n.days?vo(n.days):0,c=n.hours?vo(n.hours):0,u=n.minutes?vo(n.minutes):0,s=n.seconds?vo(n.seconds):0,d=po(t),l=i||r?function(e,t){fo(2,arguments);var n=po(e),r=vo(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());return o.setMonth(n.getMonth()+r+1,0),i>=o.getDate()?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}(d,i+12*r):d,v=a||o?function(e,t){fo(2,arguments);var n=po(e),r=vo(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}(l,a+7*o):l,f=1e3*(s+60*(u+60*c));return new Date(v.getTime()+f)}var mo=(e=>(e.SMS='sms',e.EMAIL='email',e.AGE_GATE='age_gate',e.METADATA_TEXT='metadata_text',e))(mo||{}),yo=(e=>(e.PARTIAL='partial',e.FULLSCREEN='fullscreen',e))(yo||{});lo.enGB,lo.enFR,lo.enBE,lo.enCH,lo.enDE,lo.enDK,lo.enES,lo.enIT,lo.enNL,lo.enNO,lo.enPL,lo.enPT,lo.enSE,lo.frFR,lo.frBE,lo.frCA,lo.frCH,lo.enIE,lo.itIT,lo.nlNL,lo.ptPT,lo.ptBR,lo.esES,lo.svSE,lo.deDE,lo.nlBE,lo.deCH,lo.plPL,lo.noNO,lo.daDK;const _o={backgroundColor:'#000000',inputBorderColor:'#979797',bubbleBackgroundColor:'#000000',buttonColor:'#E91220',fontColor:'#FFFFFF',fontColorInverted:'#000000',inactive:'rgba(0,0,0,0.3)',placeholderColor:'#767676',transparent:'transparent'},ho={xs:'1rem',sm:'1.25rem',md:'1.5rem',lg:'4.5rem',bubble:'1.12rem',countdownDisplay:'4rem',countdownSeperator:'2rem',countdownLabel:'1rem',legal:'0.625rem',input:'0.75rem',success:'2.5rem',successMobilePartial:'1.75rem',successMobileFullscreen:'2rem',smsCtaSubheader:'0.9375rem',emailSmsCtaSubheader:'0.8125rem',wheel:'0.5rem'},Eo=e=>`%{translationOverride:${e}}`;var Co=(e=>(e.visitor='RELATIVE',e.global='ABSOLUTE',e))(Co||{}),wo=(e=>(e.DAYS='DAYS',e.HOURS='HOURS',e.MINUTES='MINUTES',e.SECONDS='SECONDS',e))(wo||{});so.EST;_o.fontColorInverted,_o.fontColor,ho.md,_o.backgroundColor;_o.fontColorInverted,_o.fontColor,ho.md,_o.backgroundColor;_o.fontColor,_o.backgroundColor,_o.fontColorInverted,_o.fontColor,ho.md,_o.backgroundColor;_o.fontColor,_o.backgroundColor,ho.bubble,_o.backgroundColor;_o.fontColorInverted,_o.backgroundColor,ho.countdownLabel;_o.fontColorInverted,ho.countdownSeperator,_o.fontColorInverted,ho.countdownSeperator;var Io=(e=>(e.DESKTOP='DESKTOP',e.ON_SITE='ON_SITE',e.LANDING_PAGE='LANDING_PAGE',e.LEGAL='LEGAL',e.INTEGRATION='INTEGRATION',e.TEXT_TO_JOIN='TEXT_TO_JOIN',e.MANUAL_UPLOAD='MANUAL_UPLOAD',e))(Io||{}),bo=(e=>(e.DYNAMIC='DYNAMIC',e.CONVERSATIONAL='CONVERSATIONAL',e.PRIVACY='PRIVACY',e.TERMS='TERMS',e.COUPON_DISPLAY_SCREEN='COUPON_DISPLAY_SCREEN',e.NO_SHOW='NO_SHOW',e.SHOPIFY_CHECKOUT='SHOPIFY_CHECKOUT',e.SHOPIFY_CHECKOUT_TRANSACTIONAL='SHOPIFY_CHECKOUT_TRANSACTIONAL',e.SHOPIFY_CHECKOUT_EMAIL='SHOPIFY_CHECKOUT_EMAIL',e.UNSUBSCRIBE='UNSUBSCRIBE',e.RECHARGE_CHECKOUT='RECHARGE_CHECKOUT',e.RECHARGE_CHECKOUT_TRANSACTIONAL='RECHARGE_CHECKOUT_TRANSACTIONAL',e.AFFILIATE_ENDPOINT='AFFILIATE_ENDPOINT',e.OFFER_DISPLAY='OFFER_DISPLAY',e.CODE='CODE',e.LANDING_PAGE='LANDING_PAGE',e.FULL_SCREEN='FULL_SCREEN',e.EMAIL_FULL_SCREEN='EMAIL_FULL_SCREEN',e.BUBBLE_FULL_SCREEN='BUBBLE_FULL_SCREEN',e.EMAIL_BUBBLE_FULL_SCREEN='EMAIL_BUBBLE_FULL_SCREEN',e.PARTIAL='PARTIAL',e.EMAIL_PARTIAL='EMAIL_PARTIAL',e.BUBBLE_PARTIAL='BUBBLE_PARTIAL',e.EMAIL_BUBBLE_PARTIAL='EMAIL_BUBBLE_PARTIAL',e.BUBBLE='BUBBLE',e.LIGHTBOX='LIGHTBOX',e.LIGHTBOX_BUBBLE='LIGHTBOX_BUBBLE',e.EMAIL_LIGHTBOX='EMAIL_LIGHTBOX',e.EMAIL_WIZARD='EMAIL_WIZARD',e.MANUAL_ENTRY='MANUAL_ENTRY',e.PRODUCT_DISPLAY='PRODUCT_DISPLAY',e))(bo||{}),To=(e=>(e.LEFT='left',e.CENTER='center',e.RIGHT='right',e.JUSTIFY='justify',e))(To||{});Eo('defaultTextValues.headers.mobilePartialHeader1'),ho.sm,_o.fontColor,Eo('defaultTextValues.headers.mobilePartialHeader2'),ho.xs,_o.fontColor,Eo('defaultTextValues.headers.desktopPartialHeader1'),ho.sm,_o.fontColor,Eo('defaultTextValues.headers.desktopSmsPartialHeader2'),ho.xs,_o.fontColor;uo.BLOCK,co.WARNING,Eo('defaultTextValues.headers.cdsHeader'),ho.md,_o.fontColor,Eo('defaultTextValues.headers.cdsPrefHeader'),ho.md,_o.fontColor,Eo('defaultTextValues.headers.cdsEmailGateHeader'),ho.md,_o.fontColor,Eo('defaultTextValues.headers.cdsSubHeader'),ho.xs,_o.fontColor,ho.xs,_o.fontColor,Eo('defaultTextValues.headers.cdsEmailGateSubHeader'),ho.xs,_o.fontColor;var Ao=(e=>(e.OPEN='OPEN',e.IMPRESSION='IMPRESSION',e.LEAD='LEAD',e.EMAIL_LEAD='EMAIL_LEAD',e.CLOSE='CLOSE',e.EXPAND='EXPAND',e.SHRINK='SHRINK',e.DETECT_EXIT_INTENT='DETECT_EXIT_INTENT',e.SET_COOKIE='SET_COOKIE',e.RESIZE_FRAME='RESIZE_FRAME',e.CREATIVE_PAGE_VIEW='CREATIVE_PAGE_VIEW',e.ADD_TO_CART='ADD_TO_CART',e))(Ao||{}),So=(e=>(e.GOOGLE_ANALYTICS_4='GOOGLE_ANALYTICS_4',e.GOOGLE_ANALYTICS='GOOGLE_ANALYTICS',e.FACEBOOK_PIXEL='FACEBOOK_PIXEL',e.NORTHBEAM_PIXEL='NORTHBEAM_PIXEL',e.DATALAYER_PUSH='DATALAYER_PUSH',e))(So||{});So.GOOGLE_ANALYTICS_4,So.GOOGLE_ANALYTICS,So.FACEBOOK_PIXEL,So.NORTHBEAM_PIXEL,So.DATALAYER_PUSH,So.GOOGLE_ANALYTICS_4,So.GOOGLE_ANALYTICS,So.FACEBOOK_PIXEL,So.NORTHBEAM_PIXEL,So.DATALAYER_PUSH;const Oo={[So.GOOGLE_ANALYTICS_4]:{[Ao.IMPRESSION]:{name:'impression',reportPageType:!1},[Ao.EMAIL_LEAD]:{name:'submitEmail',reportEmail:!1,reportPageType:!1},[Ao.LEAD]:{name:'submitSMS',reportPageType:!1},[Ao.CLOSE]:{name:'close',reportPageType:!1},[Ao.EXPAND]:{name:'expand',reportPageType:!1}},[So.GOOGLE_ANALYTICS]:{[Ao.IMPRESSION]:{name:'impression'},[Ao.EMAIL_LEAD]:{name:'submitEmail',reportEmail:!1},[Ao.LEAD]:{name:'submitSMS'},[Ao.CLOSE]:{name:'close'},[Ao.EXPAND]:{name:'expand'}},[So.FACEBOOK_PIXEL]:{[Ao.IMPRESSION]:{name:'ViewContent'},[Ao.EMAIL_LEAD]:{name:'Contact',reportEmail:!1},[Ao.LEAD]:{name:'Lead'},[Ao.CLOSE]:{name:'Close'},[Ao.EXPAND]:{name:'Expand'}},[So.NORTHBEAM_PIXEL]:{[Ao.EMAIL_LEAD]:{name:'submitEmail',reportEmail:!0},[Ao.LEAD]:{name:'submitSMS',reportPhone:!0}},[So.DATALAYER_PUSH]:{[Ao.IMPRESSION]:{name:'impression'},[Ao.EMAIL_LEAD]:{name:'submitEmail',reportEmail:!1},[Ao.LEAD]:{name:'submitSMS'},[Ao.CLOSE]:{name:'close'},[Ao.EXPAND]:{name:'expand'}}};function Lo(e){const t={enabled:!1,id:'',reportCreative:!0,eventOptions:Oo[e]};if(e===So.GOOGLE_ANALYTICS)t.eventCategory='Attentive';return t}for(const e in So)Lo(e);var No=(e=>(e.BUBBLE='bubble',e.FIELD_CAPTURE='field_capture',e.SUCCESS='success',e.COUPON='coupon',e.EMAIL_GATE='email_gate',e.SPIN_TO_WIN='spin_to_win',e.OFFER_WHEEL='offer_wheel',e.EXISTING_SUBSCRIBER='existing_subscriber',e.LIVE_SMS='live_sms',e.PREVIEW_TOOLTIP='preview_tooltip',e.UNSUBSCRIBE='unsubscribe',e.PRE_ENGAGEMENT='pre_engagement',e.MYSTERY_OFFER='mystery_offer',e.EXISTING_SUBSCRIBER_EXPERIMENT='existing_subscriber_experiment',e.SCRATCH_OFF='scratch_off',e))(No||{});var Po=(e=>(e.LEFT='left',e.RIGHT='right',e))(Po||{}),ko=(e=>(e.TOP='top',e.BOTTOM='bottom',e))(ko||{});ao.BubbleStyles;const Ro={color:_o.fontColor,backgroundColor:_o.backgroundColor,backgroundOpacity:'100%',transparentBackground:!1,size:ho.legal,font:2,alignment:To.JUSTIFY};((e,t)=>{const n=[];if(void 0===e.active||e.active){const r={v:2,styles:{color:e.textConfig?.color,backgroundColor:e.textConfig?.backgroundColor,backgroundOpacity:e.textConfig?.backgroundOpacity,transparentBackground:e.textConfig?.transparentBackground,fontSize:e.textConfig?.size,font:e.textConfig?.font,textAlign:e.textConfig?.alignment??To.JUSTIFY,marginTop:e?.marginTop,marginBottom:e?.marginBottom},content:{customContent:e.content?.customContent,optionalLink:e.content?.optionalLink},placement:Boolean(!e.displayBelowInputs)||t?'below-headers':'below-inputs'};e.checkbox?.active&&(r.checkbox={border:e.checkbox?.border,checkColor:e.checkbox?.checkColor,icon:e.checkbox?.icon,active:!0}),n.push(r)}if(e.content?.additionalLegalText){const t={v:2,styles:{color:e.additionalLegalTextConfig?.color||e.textConfig?.color,backgroundColor:e.additionalLegalTextConfig?.backgroundColor||e.textConfig?.backgroundColor,backgroundOpacity:e.additionalLegalTextConfig?.backgroundOpacity||e.textConfig?.backgroundOpacity,transparentBackground:e.additionalLegalTextConfig?.transparentBackground??e.textConfig?.transparentBackground,fontSize:e.additionalLegalTextConfig?.size||e.textConfig?.size,font:e.additionalLegalTextConfig?.font||e.textConfig?.font,textAlign:(e.additionalLegalTextConfig?.alignment||e.textConfig?.alignment)??To.JUSTIFY},placement:'below-buttons',content:{customContent:e.content?.additionalLegalText}};n.push(t)}return n})({textConfig:Ro,content:{},additionalLegalTextConfig:Ro},!0)[0];const Bo={previewTooltipActive:!0,previewTooltipPageRule:{delay:{value:5,enabled:!0}},previewTooltipTargeting:1,tooltipText:'Need help?',displayPageRule:{delay:{value:3,enabled:!0}},displayPageTargeting:2,welcomeMessage:'Have a question for our experts? We\'re here to help.',submitButtonText:'TEXT US FOR HELP',secondarySubmitButtonText:'and to sign up for texts',legalText:{textConfig:{...Ro,color:'#3C3C3C',backgroundColor:'#FFFFFF'},content:{}}};var xo;No.LIVE_SMS,(e=>{const t={...Bo};e&&(t.phoneInput='Your phone number',t.submitButtonText='GET HELP',t.secondarySubmitButtonText='and sign me up for texts')})(xo),mo.SMS;const Do=e=>e.subType===bo.CONVERSATIONAL&&(e.type===Io.ON_SITE||e.type===Io.DESKTOP),Mo=['overlay','support','embedded'],Uo=['immediately','delay','scroll','exitIntent','backInStock','pdpPrice','addToCart'],Ho=e=>!!e&&e.includes('TEXT');var Fo=(e=>(e.SOURCE='source',e.CAMPAIGN='campaign',e.CONTENT='content',e.MEDIUM='medium',e.TERM='term',e))(Fo||{});function Vo(e){return'ct'in e&&'canvas'===e.ct}const jo='__attentive_email_creativeFilter';var Go=(e=>(e.OVERLAY_DATA='OVERLAY_DATA',e.EXIT_INTENT='EXIT_INTENT',e))(Go||{});const qo=e=>{const t=new Date;return t.setTime(t.getTime()+1e3*e),t},Yo=()=>qo(1800),$o=window;class Jo{MAX_AGE;MAX_AGE_DAYS;userId;__attentive_domain;constructor(){const e=$o.__attentive_cfg&&$o.__attentive_cfg.gdpr;this.MAX_AGE=e?33696e3:189216e4,this.MAX_AGE_DAYS=Math.round(this.MAX_AGE/86400),this.userId=null,this.__attentive_domain=$o.__attentive_domain}getId(){return this.userId||this.setId(),this.userId}rotateId(){this.userId=null,O('__attentive_id'),O('__attentive_cco'),this.setId()}getCookie=e=>document.cookie.replace(new RegExp(`(?:(?:^|.*;\\s*)${e}\\s*=\\s*([^;]*).*$)|^.*$`),'$1');createImg=e=>{new Image(1,1).src=`https://${this.__attentive_domain}${e}`};setId=()=>{const e='__attentive_cco',{getQueryParam:t,getCookie:n,createImg:r}=this,i=n('__attentive_id'),o=n(e),a=t('attn-vid')||t('visitorId'),c=t('attn-sid')||t('subscriberId'),u=t('attn-eid')||t('externalId'),s=t('altid'),d=Boolean(i),l=this.userId;let v=!1;if(o)try{const e=new Date(Number(o)+1e3*this.MAX_AGE),t=new Date;e.valueOf()-t.valueOf()<2592e6&&(v=!0)}catch(e){}d||null==a?i&&a?(this.userId=i,a!==i&&r(`/sv?qid=${a}&cid=${i}`)):Qt&&null!==localStorage.getItem('__attentive_id')?(this.userId=localStorage.getItem('__attentive_id'),localStorage.removeItem('__attentive_id')):this.userId=!i&&!a||v?en():i:this.userId=a,c?r(`/sv?sid=${c}&cid=${this.userId}`):s?r(u?`/sv?altid=${s}&seid=${u}&cid=${this.userId}`:`/sv?altid=${s}&cid=${this.userId}`):u?r(`/sv?seid=${u}&cid=${this.userId}`):i&&v&&r(`/sv?qid=${i}&cid=${this.userId}`),l!==this.userId&&this.userId&&S('__attentive_id',this.userId,{expires:this.MAX_AGE_DAYS}),o&&!v||S(e,String(Date.now()),{expires:this.MAX_AGE_DAYS})};getQueryParam=e=>{const{queryParams:t}=this;return t($o.location.search,e)||t($o.location.hash,e)};queryParams(e,t){let n=null;return e.substring(1).split('&').forEach((e=>{const r=e.split('=');r[0]===t&&(n=r[1])})),n}}const Wo={klaviyo:()=>window._learnq&&window._learnq.isIdentified,bouncex:()=>window.bouncex&&window.bouncex.var},Ko={klaviyo:()=>window._learnq&&window._learnq.isIdentified&&window._learnq.isIdentified instanceof Function&&window._learnq.isIdentified(),bouncex:()=>Boolean(window.bouncex&&window.bouncex.vars)&&window.bouncex.vars.email_submitted_attentive};function Xo(e){for(const t in e)void 0===e[t]&&delete e[t];return e}const zo=$o.__attentive_cfg&&$o.__attentive_cfg.esms&&$o.__attentive_cfg.esms in Wo,Zo=zo&&Wo[$o.__attentive_cfg.esms],Qo=zo&&Ko[$o.__attentive_cfg.esms],ea=zo&&Zo instanceof Function&&Qo instanceof Function,ta=async()=>{if(ea){const e=async()=>await new Promise((e=>{const t=setInterval((()=>{if(Zo()){clearInterval(t);const n=jo,r=!!Qo();S(n,JSON.stringify(r),{expires:Yo()}),e()}}),200);setTimeout((()=>{clearInterval(t),e()}),3e3)}));await e()}},na=e=>-1!==document.cookie.indexOf(e),ra=e=>{return(e=>{if(!e){if(b('__attentive_iss'))return!0;if(window.location.search.includes('externalId='))return S('__attentive_iss','true',{expires:Yo()}),!0}return!1})(e.ENABLE_SUBSCRIBER_CREATIVES)||!(!(n=e.REQUIRED_COOKIE)||n.every(na))||(e=>{if(e){const{key:t,value:n}=e,r=b(t);return void 0!==n?r===n:void 0!==r}return!1})(e.DISALLOWED_COOKIES)||!!(t=e.DISALLOWED_PROPERTIES)&&t()||!!e.SHOULD_BLOCK_PWA_DISPLAY_MODE&&window.matchMedia('(display-mode: standalone)').matches||((e,t)=>{if(window.innerWidth>=760?Boolean(e):Boolean(t))return 0===document.cookie.replace(/(?:(?:^|.*;\s*)__attentive_id\s*=\s*([^;]*).*$)|^.*$/,'$1').length;return!1})(e.BOUNCE_X_DESKTOP_CUSTOMER,e.BOUNCE_X_CUSTOMER);var t,n},ia=e=>new Promise((t=>setTimeout(t,e))),oa=async e=>{if(e){const{thirdPartyVariable:t,timeout:n}=e,r=n||1e3;await(async(e,t)=>{for(;!e();)await ia(t)})(t,r)}};var aa=(e=>(e[e.SHOW=0]='SHOW',e[e.DO_NOT_SHOW=1]='DO_NOT_SHOW',e[e.HIDE_INITIAL=2]='HIDE_INITIAL',e))(aa||{});const ca=(e,t,n)=>!1!==e&&t!==No.BUBBLE&&n!==yo.PARTIAL,ua='aria-hidden',sa=new Map;let da=!1;function la(){for(const[e,t]of Array.from(sa.entries()))'attentive_overlay'!==e.id&&(t.processed||(t.processed=!0,e.setAttribute(ua,'true')))}function va(){for(const[e,t]of Array.from(sa.entries()))'attentive_overlay'!==e.id&&t.processed&&(t.processed=!1,t.ariaHidden?e.setAttribute(ua,t.ariaHidden):e.removeAttribute(ua))}const fa=()=>{da=!1,va()};const pa=new MutationObserver((e=>{for(const t of e)if('attributes'===t.type){if(!da)continue;const e=t.target;if('true'===e.getAttribute(ua))continue;sa.delete(e)}const t=Array.from(document?.body?.children??[]);!function(e){for(const t of e)sa.has(t)||sa.set(t,{ariaHidden:t.getAttribute(ua),processed:!1});da?la():va()}(t),function(e){for(const t of e)pa.observe(t,{attributeFilter:[ua]})}(t)}));try{document&&pa.observe(document.body,{childList:!0})}catch(e){}const ga=()=>/Safari/.test(navigator.userAgent),ma=(e,t)=>e.slice(0,t.length)===t,ya=()=>{const e={};return document.cookie.split('; ').forEach((t=>{if(ma(t,'__attentive')){const[n,...r]=t.split('=');e[n]=r.join('')}})),e},_a=(e,t)=>{if(t.innerHeight>=t.documentHeight)return!0;const n=(e=>Math.abs(e.top)/(e.documentHeight-e.innerHeight)*100)(t),r=e.value;return r&&n+1>=r},ha=e=>!!e?.exitIntent?.enabled,Ea=(e,t,n)=>{const r=(e=>e.find((e=>'type'in e&&e.type===No.BUBBLE)))(e);if(void 0===r)return!1;const i=t&&parseInt(t),o='fields'in r?r?.fields:void 0,a=parseInt(o?.showBubblePV||'');if(void 0===o?.showBubblePV||!i||!n)return!0;const c=i&&n&&Math.abs(i-parseInt(n))+1;return Boolean(c&&c>=a)},Ca=e=>{if(!e?.length)return!1;const t=e&&e.find((e=>e.type===No.BUBBLE)),n=t&&t.fields;return!!(n&&n.countdownSection&&n.countdownSection.active)},wa=(e,t)=>{let n=new Date;switch(e){case wo.DAYS:n=go(n,{days:Number(t)});break;case wo.HOURS:n=go(n,{hours:Number(t)});break;case wo.MINUTES:n=go(n,{minutes:Number(t)});break;case wo.SECONDS:n=go(n,{seconds:Number(t)})}return n.toISOString()},Ia=e=>{const t='__attentive_timer';if(!b(t)&&e?.enabled&&e?.type===Co.visitor&&e?.durationUnit&&e?.durationValue){S(t,wa(e.durationUnit,e.durationValue))}},ba=()=>/iPhone|iPad|iPod/.test(navigator.userAgent),Ta=window.matchMedia('(max-width: 480px)'),Aa=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,Sa=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i,Oa=/android|ipad|playbook|silk/i,La={nokia:/nokia|lumia/},Na={genericTab:/tablet/};const Pa=window,ka=()=>{const e=Pa?.attn_d0x0b_cfg;if(e){const t=atob(e);return JSON.parse(t).bctu}},Ra=(e='default')=>{const t={default:$o.__attentive_cfg&&$o.__attentive_cfg.zi,disable:$o.__attentive_cfg&&$o.__attentive_cfg.zd,enable:$o.__attentive_cfg&&$o.__attentive_cfg.ze};return $o.__attentive_cfg&&t[e]},Ba=(e,t)=>{const n=document.createElement('div');return n.style.position='fixed',n.style.left='0',n.style.bottom='0',n.style.width='100vw',n.style.height='0',n.style.setProperty('z-index',(e=>{if(e&&e.shouldApplyZIndex&&e.zIndex)return String(e.zIndex);return Ra('default')||'9223372036854775807'})(t.CONDITIONAL_Z_INDEX_MAP)||null),n.style.setProperty('color-scheme','none'),n.id=e,n},xa=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&'hidden'!==$o.getComputedStyle(e).visibility,Da=e=>{const t=e||document.documentElement;return{top:t.scrollTop||document.body.scrollTop||window.pageYOffset,documentHeight:t.scrollHeight||document.body.scrollHeight,innerHeight:window.innerHeight}},Ma='__attn_exit_intent_triggered',Ua=()=>void 0!==b(Ma),Ha=()=>{const e=new Date(Date.now()+36e5);S(Ma,'true',{expires:e})},Fa=(e,t)=>{const n=r=>{r.clientY>50||(t(),e.removeEventListener('mousemove',n))},r=setTimeout((()=>{e.addEventListener('mousemove',n)}),3e3);return()=>{e.removeEventListener('mousemove',n),clearTimeout(r)}},Va=(e,t,n)=>Math.abs(e)/(t-n)*100,ja=(e,t,n)=>{let r,i=0;n&&(r=e.querySelector(n)??void 0);const o=Tr((()=>{const{top:n,documentHeight:a,innerHeight:c}=Da(r);Va(n,a,c)>50&&(0===n&&(i=0),n>i?i=n:Va(n-i,a,c)>3&&(t(),e.removeEventListener('touchmove',o)))}),a=120,{leading:!0,trailing:!0,maxWait:a,...c});var a,c;return e.addEventListener('touchmove',o),()=>e.removeEventListener('touchmove',o)},Ga=()=>{const e=(()=>{const e=performance.getEntriesByType('resource').filter((e=>'script'===e.initiatorType&&e.name.includes('dtag.js'))).sort(((e,t)=>e.startTime-t.startTime));if(e.length>0){const t=e[0];return{start:t.fetchStart,end:t.responseEnd}}})(),t=(()=>{const e=performance.getEntriesByType('mark');return{tagLoaded:e.find((e=>e.name===h.TagCoreLoaded)),tagCreativesLoaded:e.find((e=>e.name===h.TagCreativesLoaded))}})(),n={dtagStart:e?.start,dtagEnd:e?.end,tagLoaded:t.tagLoaded?.startTime,tagCreativesLoaded:t.tagCreativesLoaded?.startTime};if(!(()=>{const e=$o.__attentive_cfg&&$o.__attentive_cfg.lt&&('1'===$o.__attentive_cfg.lt||'2'===$o.__attentive_cfg.lt);return Boolean(e||ea)})()){const e=performance.getEntriesByName(h.FetchCreativesStart,'mark'),t=performance.getEntriesByName(h.FetchCreativesEnd,'mark');if(e.length>1||t.length>1)return{};e.length>0&&(n.fetchCreativesStart=e[0].startTime),t.length>0&&(n.fetchCreativesEnd=t[0].startTime)}return n},qa=()=>{const e=$o.__attentive_domain;if(Qt&&e){const t=$o.localStorage.getItem('attn_pdp');if(t){const n=JSON.parse(atob(t));if(n[e])return!0===Array.isArray(n[e])?n[e]:[n[e]]}}},Ya=function(e){e.preventDefault(),e.stopPropagation()},{toggleScrollLock:$a,getCurrentValue:Ja}=(()=>{let e,t=!1;return{toggleScrollLock:n=>{if(t=n,n){if(!e){e=window.pageYOffset;try{const t=parseInt(getComputedStyle(document.body).height,10)-(e+window.visualViewport.height);t<0&&window.scrollBy({top:t})}catch{}}document.body.style.overflow='hidden',document.body.style.position='absolute',document.body.style.top=-e+'px',document.body.style.left='0',document.body.style.right='0',document.body.style.bottom='0',document.body.style.height='unset',document.documentElement.style.overflow='hidden',document.documentElement.style.position='absolute',document.documentElement.style.top='0',document.documentElement.style.left='0',document.documentElement.style.right='0',document.documentElement.style.bottom='0'}else document.body.style.removeProperty('overflow'),document.body.style.removeProperty('position'),document.body.style.removeProperty('top'),document.body.style.removeProperty('left'),document.body.style.removeProperty('right'),document.body.style.removeProperty('bottom'),document.body.style.removeProperty('height'),document.documentElement.style.removeProperty('overflow'),document.documentElement.style.removeProperty('position'),document.documentElement.style.removeProperty('top'),document.documentElement.style.removeProperty('left'),document.documentElement.style.removeProperty('right'),document.documentElement.style.removeProperty('bottom'),void 0!==e&&e>=0&&(window.scrollTo({top:e,behavior:'instant'}),e=void 0)},getCurrentValue:()=>t}})();function Wa(e,t){e.ENABLE_SCROLLING_NO_STYLING||(e.ENABLE_SCROLLING_CUSTOM_STYLING_NO_SCROLL_LOCK?e.ENABLE_SCROLLING_CUSTOM_STYLING_NO_SCROLL_LOCK():Ja()&&($a(!1),t.style.setProperty('z-index',Ra('enable')||'9223372036854775807','important'),e.ENABLE_SCROLLING_CUSTOM_STYLING_WITH_SCROLL_LOCK&&e.ENABLE_SCROLLING_CUSTOM_STYLING_WITH_SCROLL_LOCK())),document.body.removeEventListener('touchmove',Ya)}const Ka=async(e,t)=>{if(window.Shopify?.routes?.root){const n={items:[{id:e,quantity:t}]};try{if((await fetch(`${window.Shopify?.routes?.root||'/'}cart/add.js`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(n)})).ok)return'success'}catch(e){}}};function Xa(e,t,n){const{action:r,thirdPartyAnalytics:i}=e,o=i&&i[t];if(!o||!o.enabled)return;const a=o.eventOptions?.[r],c=a?.name||Oo[t]?.[Ao[r]]?.name;if(void 0===c)return;const u=o.reportCreative&&'creativeId'in e?e.creativeId:void 0,s=a&&'reportEmail'in a&&a.reportEmail&&'email'in e?e.email:void 0,d='email'in e?e.email:void 0,l='phone'in e?e.phone:void 0,v='closeType'in e?e.closeType:void 0,f='eventCategory'in o?o.eventCategory:void 0,p=a&&'reportPageType'in a&&a.reportPageType,g=r===Ao.IMPRESSION&&p&&'pageType'in e?e.pageType:p&&'impressionPageType'in e?e.impressionPageType:void 0;if(t===So.GOOGLE_ANALYTICS_4){const e={source:'Attentive',creative_id:u,creative_type:g,email:s};if($o.gtag){const t=n.GA4_CUSTOM_EVENT_FORMATTING;$o.gtag('event',c,Xo(t?t(e):e))}else $o.dataLayer&&$o.dataLayer.push(Xo({...e,event:c}))}t===So.GOOGLE_ANALYTICS&&($o.ga?$o.ga((()=>{const e=$o.ga?.getAll();e&&e.length&&e[0].send('event',f||'Attentive',c,Xo({eventLabel:u,dimension1:s,dimension2:v,nonInteraction:r===Ao.IMPRESSION}))})):$o.gtag&&$o.gtag('event',c,Xo({event_category:f,event_label:u,dimension1:s,dimension2:v,non_interaction:r===Ao.IMPRESSION}))),t===So.FACEBOOK_PIXEL&&$o.fbq&&$o.fbq('track',c,Xo({creativeId:u,email:s,closeType:v})),t===So.NORTHBEAM_PIXEL&&$o.Northbeam&&(r===Ao.EMAIL_LEAD&&d?$o.Northbeam.fireEmailCaptureEvent(d,'Attentive'):r===Ao.LEAD&&l&&$o.Northbeam.fireCustomGoal(`phone_capture: ${l}`,{})),t===So.DATALAYER_PUSH&&($o.dataLayer=$o.dataLayer||[],$o.dataLayer.push(Xo({event:c,source:'Attentive',creative_id:u,email:s})))}const za='__attentive_vf';function Za(){return b(za)}const Qa={marketing:{overlayElementID:'attentive_overlay',creativeContainerID:'attentive_creative',creativeContainerTitle:'Sign Up via Text for Offers',useCustomEventHandling:!0},'live-sms':{overlayElementID:'attentive_live_sms_overlay',creativeContainerID:'attentive_live_sms_creative',creativeContainerTitle:'Get real-time support via SMS',useCustomEventHandling:!1},backInStock:{overlayElementID:'attentive_overlay',creativeContainerID:'attentive_creative',creativeContainerTitle:'Sign Up via Text for Offers',useCustomEventHandling:!0},topBar:{overlayElementID:'attentive_top_bar_overlay',creativeContainerID:'attentive_top_bar_creative',creativeContainerTitle:'Sign Up via Text for Offers',useCustomEventHandling:!0},pdpPrice:{overlayElementID:'attentive_pdp_price_overlay',creativeContainerID:'attentive_pdp_price_creative',creativeContainerTitle:'Sign Up via Text for Offers',useCustomEventHandling:!0}};class ec{clientConfig;userId;lastElementInFocus=null;email=null;creativeContainer;overlayElement;loaded=!1;shouldResetIFrame;initialBottom=0;requireRepaintOnOpen=!1;shouldDisableScroll=!1;attentiveConfig;#e;useCustomEventHandling=!1;windowEvent;onLoadFunction;constructor(e,t,n,r,i,o){this.clientConfig=e,this.useCustomEventHandling=o,this.userId=t;const a=Ba(n,e),c=((e,t,n)=>{const r=document.createElement('iframe');r.style.width='100%',r.style.height='0',r.style.position='absolute',r.style.bottom='0',r.style.opacity='0',r.style.transition='opacity 500ms',r.style.border='0',r.style.overflow='hidden',r.style.visibility='hidden',r.allowTransparency='true',r.referrerPolicy='origin',r.id=e,r.allow='clipboard-write';const i=n.IFRAME_CLASS;i&&i(r);const o=$o?.__attentive_cfg?.iframeTitle;return r.title=o||t,r})(r,i,e);var u;a.appendChild(c),this.creativeContainer=c,this.overlayElement=a,this.shouldResetIFrame=ba()&&ga()&&!!document.querySelector('meta[name=apple-itunes-app]'),this.shouldResetIFrame&&(this.creativeContainer.style.transition='opacity 500ms, bottom 150ms ease-in-out',this.handleIFramePlacement()),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.orientationChangeHandler=this.orientationChangeHandler.bind(this),this.refocusEventListener=this.refocusEventListener.bind(this),this.windowEvent=(u=this.clientConfig?.CUSTOM_WINDOW_EVENTS,u&&document.querySelector(u)||$o)}creativeEventHandler=async e=>{if(e.data&&Object.prototype.hasOwnProperty.call(e.data,'__attentive')){const t=e.data.__attentive;if(t.creativeId!==this.attentiveConfig?.trackingParams?.creativeId)return;const n=e.ports;!function(e,t){const n=e.thirdPartyAnalytics;for(const r in n){const i=n[r];i?.enabled&&Xa(e,r,t)}}(t,this.clientConfig);let r=!1;const i=this.attentiveConfig?.trackingParams.creativeId,o=this.attentiveConfig?.trackingParams?.countdownTimerFilter,a=u(),c=g();switch(t.action){case Ao.OPEN:r=ca(this.clientConfig.ada,t.pageType,t.layout),r&&(da=!0,la()),this.useCustomEventHandling&&this.clientConfig.CUSTOM_OPEN_EVENTS&&this.clientConfig.CUSTOM_OPEN_EVENTS(t),this.openCreative(t);break;case Ao.CLOSE:this.creativeContainer.style.opacity='0',r=ca(this.clientConfig.ada),setTimeout((()=>{this.hide(i),this.resetFocusOnCreativeClose()}),500),r&&fa(),this.useCustomEventHandling&&this.clientConfig.CUSTOM_CLOSE_EVENTS&&this.clientConfig.CUSTOM_CLOSE_EVENTS(t),t.shouldSetViewFatigueCookie&&(Za()||S(za,'true',{expires:qo(86400)}));break;case Ao.LEAD:a&&(a.setAttribute('data-signup-complete','true'),d(a)),c&&(c.setAttribute('data-signup-complete','true'),_(c)),this.useCustomEventHandling&&await(async(e,t)=>{e.CUSTOM_LEAD_EVENTS&&await e.CUSTOM_LEAD_EVENTS(t)})(this.clientConfig,t),$o.__attentive_cfg&&'1'===$o.__attentive_cfg.sdj&&function({phone:e,creativeId:t}){try{window.sd&&(window.sd.identify('',{phone_number:e}),window.sd.track('registration',{phone_number:e,properties:{creativeId:t}}))}catch(e){}}(t),n?.length&&n[0]&&n[0].postMessage('custom logic completed'),(({phone:e})=>{Pa?.edgetag&&ka()&&e&&Pa.edgetag('user','phone',e)})(t);break;case Ao.ADD_TO_CART:n?.length&&n[0]&&n[0].postMessage({message:'success'===await Ka(t.variantId,t.quantity)?'success':'failure',variantId:t.variantId});break;case Ao.IMPRESSION:this.useCustomEventHandling&&this.clientConfig.CUSTOM_IMPRESSION_EVENTS&&this.clientConfig.CUSTOM_IMPRESSION_EVENTS(t),this.forwardEmail(t);break;case Ao.EMAIL_LEAD:this.useCustomEventHandling&&this.clientConfig.CUSTOM_EMAIL_LEAD_EVENTS&&this.clientConfig.CUSTOM_EMAIL_LEAD_EVENTS(t),$o.__attentive_cfg&&'1'===$o.__attentive_cfg.klv&&(({email:e})=>{window._learnq&&window._learnq.push(['identify',{$email:e}])})(t),$o.__attentive_cfg&&'1'===$o.__attentive_cfg.wpm&&function({email:e}){window.postMessage({func:'wrPush',message:e},'*')}(t),$o.__attentive_cfg&&'1'===$o.__attentive_cfg.ges&&window.geq&&window.geq.suppress(),$o.__attentive_cfg&&'1'===$o.__attentive_cfg.oma&&(({email:e})=>{window.ometria&&window.ometria.identify&&window.ometria.identify(e)})(t),$o.__attentive_cfg&&'1'===$o.__attentive_cfg.lcses&&function({email:e}){try{window.localStorage.setItem('_attn_',JSON.stringify({email:e}))}catch(e){}}(t),$o.__attentive_cfg&&'1'===$o.__attentive_cfg.sdes&&function({email:e,creativeId:t}){try{window.sd&&(window.sd.identify('',{email:e}),window.sd.track('registration',{email:e,properties:{creativeId:t}}))}catch(e){}}(t),(({email:e})=>{Pa?.edgetag&&ka()&&e&&Pa.edgetag('user','email',e)})(t);break;case Ao.EXPAND:this.useCustomEventHandling&&this.clientConfig.CUSTOM_EXPAND_EVENTS&&this.clientConfig.CUSTOM_EXPAND_EVENTS(t),o&&(Ia(o),this.sendMessageToCreative(Go.OVERLAY_DATA,{overlayData:this.getOverlayData()}));break;case Ao.SHRINK:r=ca(this.clientConfig.ada),r&&fa(),this.useCustomEventHandling&&this.clientConfig.CUSTOM_SHRINK_EVENTS&&this.clientConfig.CUSTOM_SHRINK_EVENTS(t);break;case Ao.DETECT_EXIT_INTENT:ba()&&ga()&&(this.requireRepaintOnOpen=!0),this.detectExitIntent(t,o);break;case Ao.SET_COOKIE:(({cookieName:e,cookieValue:t,cookieAttributes:n=[]})=>{const r=[`${ma(e,'__attentive')?'':'__attentive'}${e}=${t}`,'path=/',...n].join('; ');document.cookie=r})(t);break;case Ao.RESIZE_FRAME:this.applyStylesToIFrame(t.style),this.resetIFrame(t.style?.bottom??'0');break;case Ao.CREATIVE_PAGE_VIEW:this.useCustomEventHandling&&this.clientConfig.CUSTOM_CREATIVE_PAGE_VIEW_EVENTS&&this.clientConfig.CUSTOM_CREATIVE_PAGE_VIEW_EVENTS(t)}}};orientationChangeHandler(e){e.matches||this.hide()}focus(){this.clientConfig.CUSTOM_SKIP_FOCUS||this.creativeContainer.focus()}refocusEventListener(){this.attentiveConfig?.creativeConfig?.type===Io.DESKTOP&&this.shouldDisableScroll&&$o.setTimeout((()=>{this.focus()}))}openCreative=e=>{var t,n,r;this.clientConfig.CUSTOM_DISABLE_OPEN_CREATIVE&&this.clientConfig.CUSTOM_DISABLE_OPEN_CREATIVE()||(!this.loaded&&function(){const{userAgent:e}=window.navigator,{width:t}=window.screen,n=new RegExp(La.nokia),r=new RegExp(Na.genericTab),i=new RegExp(Aa),o=new RegExp(Sa),a=new RegExp(Oa);return!r.test(e)&&!(!n.test(e)&&(i.test(e)||o.test(e.substr(0,4))?t>480:(a.test(e),1)))}()&&Ta.addListener(this.orientationChangeHandler),this.shouldDisableScroll=e.pageType!==No.BUBBLE&&e.layout!==yo.PARTIAL,$o.removeEventListener('focus',this.refocusEventListener),$o.addEventListener('focus',this.refocusEventListener),this.applyStylesToIFrame(e.style),this.creativeContainer.style.opacity='1',this.creativeContainer.style.visibility='visible',this.shouldDisableScroll?(t=this.clientConfig,n=this.overlayElement,t.DISABLE_SCROLLING_NO_STYLING||(t.DISABLE_SCROLLING_CUSTOM_STYLING_NO_SCROLL_LOCK?t.DISABLE_SCROLLING_CUSTOM_STYLING_NO_SCROLL_LOCK():($a(!0),n.style.setProperty('z-index',Ra('disable')||'9223372036854775807','important'),t.DISABLE_SCROLLING_CUSTOM_STYLING_WITH_SCROLL_LOCK&&t.DISABLE_SCROLLING_CUSTOM_STYLING_WITH_SCROLL_LOCK())),document.body.addEventListener('touchmove',Ya)):Wa(this.clientConfig,this.overlayElement),this.requireRepaintOnOpen&&(r=this.overlayElement,setTimeout((()=>{'fixed'===r.style.position&&(r.style.position='relative',r.offsetHeight,r.style.position='fixed')}),100)),this.resetIFrame(e.style?.bottom??'0'),e.pageType!==No.BUBBLE&&this.focus())};applyStylesToIFrame=e=>{const t=this.clientConfig.IFRAME_CLASS;!t?.(this.creativeContainer)&&e&&Object.assign(this.creativeContainer.style,e)};resetIFrame=e=>{this.shouldResetIFrame&&(this.initialBottom=parseInt(e,10)||0,$o.addEventListener('resize',this.handleIFramePlacement),this.windowEvent.addEventListener('scroll',this.handleIFramePlacement),this.handleIFramePlacement())};handleIFramePlacement=()=>{$o.innerHeight<document.documentElement.clientHeight||(this.creativeContainer.style.bottom=`${this.initialBottom}`),this.postFrameHandler()};handleADACompliance=()=>{this.clientConfig.ADA_COMPLIANT&&($o.addEventListener('keydown',(e=>27===e.keyCode&&this.hide()),!1),this.lastElementInFocus=document.activeElement)};resetFocusOnCreativeClose=()=>{if(this.clientConfig.ADA_COMPLIANT)if(this.lastElementInFocus&&'body'!==this.lastElementInFocus.nodeName.toLowerCase()&&xa(this.lastElementInFocus))this.lastElementInFocus.focus();else{const e=document.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');for(const t of e)if(xa(t)){t.focus();break}}};postFrameHandler=Tr((()=>{const e=Math.floor(this.creativeContainer.getBoundingClientRect().bottom)-$o.innerHeight;this.creativeContainer.clientHeight>=document.body.clientHeight?this.creativeContainer.style.bottom='0':e>0&&(this.creativeContainer.style.bottom=`${e+this.initialBottom}px`)}),250);setEmail(e){this.email=e}load(e){$o.attnOverlayLoaded=!0;const t=this.clientConfig.TOP_BAR_CONTAINER_TARGET&&this.clientConfig.TOP_BAR_CONTAINER_TARGET(e.attentiveConfig.trackingParams.creativeId),n=this.clientConfig.CONTAINER_TARGET_OVERLAY&&this.clientConfig.CONTAINER_TARGET_OVERLAY(e.attentiveConfig.trackingParams.creativeId);t?t.appendChild(this.creativeContainer):n?n.appendChild(this.overlayElement):document?.body?.appendChild(this.overlayElement),this.loaded=!0}show(e){this.handleADACompliance(),this.loaded||this.load(e),this.populateIframeContent(e),$o.addEventListener('resize',this.sendOverlayDataToCreative)}generateOnLoadFunction=e=>()=>{const{attentiveConfig:t}=e;this.#e=new MessageChannel,this.creativeContainer.contentWindow?.postMessage('__attentiveInit','*',[this.#e.port2]),this.sendAttentiveConfigToCreative(t)};populateIframeContent=async e=>{const{creativeRendererIndexURL:t,attentiveConfig:n}=e;this.creativeContainer.src=t,this.iframeLoaded(),this.attentiveConfig=n,this.onLoadFunction&&this.creativeContainer.removeEventListener('load',this.onLoadFunction),this.onLoadFunction=this.generateOnLoadFunction(e),this.creativeContainer.addEventListener('load',this.onLoadFunction,{once:!0})};getOverlayData=()=>({vendorIDs:Dt([Ot,Lt,Nt,Pt,kt]),clientWidth:document.documentElement.clientWidth,performanceMetrics:Ga(),attentiveCookies:ya(),productViewData:qa()});sendMessageToCreative=(e,t)=>{this.creativeContainer&&this.creativeContainer.contentWindow&&this.creativeContainer.contentWindow.postMessage({__attentive:{type:e,data:t}},'*')};sendOverlayDataToCreative=Tr((()=>{this.sendMessageToCreative(Go.OVERLAY_DATA,{overlayData:this.getOverlayData()})}),250);sendAttentiveConfigToCreative=e=>{if(!this.#e)return;const t={__attentiveConfig:{...e,overlayData:this.getOverlayData()}};this.#e.port1.postMessage(t)};sendTriggeredExitIntentToCreative=e=>{Ua()||(e&&(Ia(e),this.sendMessageToCreative(Go.OVERLAY_DATA,{overlayData:this.getOverlayData()})),Ha(),this.sendMessageToCreative(Go.EXIT_INTENT,{hasTriggeredExitIntent:!0}))};detectExitIntent=(e,t)=>{const{creativeType:n,isBubbleCreative:r}=e;r&&(Ua()||(n===Io.DESKTOP?Fa(document,(()=>this.sendTriggeredExitIntentToCreative(t))):n===Io.ON_SITE&&ja(document,(()=>this.sendTriggeredExitIntentToCreative(t)),this.clientConfig.CUSTOM_EXIT_INTENT_SCROLL_ELEMENT_SELECTOR||'')))};iframeLoaded(){(e=>{if(e.ANNOUNCE_ADA_POPUP&&-1!==document.cookie.indexOf('attn_ada_test')){const e=document.querySelector('.attentiveButton');e&&e.click()}})(this.clientConfig),$o&&$o.getComputedStyle&&'center'===$o.getComputedStyle(this.overlayElement).textAlign&&(this.overlayElement.style.textAlign='left')}hide(e){if(e&&this.attentiveConfig?.trackingParams.creativeId&&e!==this.attentiveConfig?.trackingParams.creativeId)return;const t=this.clientConfig.TOP_BAR_CONTAINER_TARGET&&e&&this.clientConfig.TOP_BAR_CONTAINER_TARGET(e);t?t.removeChild(this.creativeContainer):this.overlayElement.parentNode&&this.overlayElement.parentNode.removeChild(this.overlayElement),this.creativeContainer.src='',this.creativeContainer.style.visibility='hidden',this.clientConfig.ENABLE_SCROLL_BLACKLIST_SITE||Wa(this.clientConfig,this.overlayElement),Ta.removeListener(this.orientationChangeHandler),$o.removeEventListener('resize',this.sendOverlayDataToCreative),$o.removeEventListener('focus',this.refocusEventListener),this.loaded=!1}forwardEmail(e){this.email&&(async e=>{const{domain:t=window.__attentive_domain,creativeId:n,email:r,visitorId:i,impressionPageType:o}=e,a=`https://${t}/track`,c=new URLSearchParams;c.append('s','1'),c.append('a','CLICK'),c.append('id',i),c.append('e',r),o&&c.append('pt',o),n&&c.append('c',n);const u=b('_attn_bopd_');u&&c.append('abs',u);const s=Dt([Ot,Lt,Nt,Pt,kt]);s&&c.append('cui',JSON.stringify(s)),fetch(`${a}?${c}`,{method:'GET',mode:'no-cors'})})({email:this.email,creativeId:e.creativeId,visitorId:`${this.userId}`,impressionPageType:e.pageType})}}const tc='__attn_atc_triggered',nc=({pageView:e,pageviewRuleLowerBound:t,bubbleMultiPage:n,bubbleCanvasPage:r})=>{const i=parseInt(e);let o=0;if(n){const e=n.fields;o=parseInt(e.showBubblePV||'')}r&&(o=parseInt(r.showBubblePV||''));return Math.abs(i-parseInt(t))+1>=o},rc=e=>{const{firstPageDisplayed:t,pageview:n,pageviewRuleLowerBound:r}=e.trackingParams;let i=e.creativeConfig,o=!1;if(e.creativeConfig?.subType===bo.DYNAMIC)if(Vo(e.creativeConfig)){const a=Object.values(e.creativeConfig.pages).find((e=>'type'in e&&e.type===No.BUBBLE));if(a)if(t){if(!('BUBBLE'===t)&&a.nextPage){const t=e.creativeConfig,n=a.id,r=a.nextPage;delete t.pages[n],t.firstPageId=r,o=!0,i=t}}else{if(!!!Za()&&n&&r){const{configWithSkippedBubblePage:t,hasSkippedBubblePage:c}=(({pageView:e,pageviewRuleLowerBound:t,creativeConfig:n,bubblePage:r})=>{const i=n,o=nc({pageView:e,pageviewRuleLowerBound:t,bubbleCanvasPage:r});if(!o&&r.nextPage){const e=r.id,t=r.nextPage;delete i.pages[e],i.firstPageId=t}return{configWithSkippedBubblePage:i,hasSkippedBubblePage:!o}})({pageView:n,pageviewRuleLowerBound:r,creativeConfig:e.creativeConfig,bubblePage:a});o=c,i=t}}}else{const a=e.creativeConfig.pages.find((e=>e.type===No.BUBBLE));if(a)if(t){if(!('BUBBLE'===t)){const t=e.creativeConfig;t.pages=t.pages.filter((e=>e.type!==No.BUBBLE)),o=!0,i=t}}else{if(!!!Za()&&n&&r){const{configWithSkippedBubblePage:t,hasSkippedBubblePage:c}=(({pageView:e,pageviewRuleLowerBound:t,creativeConfig:n,bubblePage:r})=>{const i=n,o=nc({pageView:e,pageviewRuleLowerBound:t,bubbleMultiPage:r});return o||(i.pages=i.pages.filter((e=>e.type!==No.BUBBLE))),{configWithSkippedBubblePage:i,hasSkippedBubblePage:!o}})({pageView:n,pageviewRuleLowerBound:r,creativeConfig:e.creativeConfig,bubblePage:a});o=c,i=t}}}return{filteredCreativePagesConfig:i,skippedBubblePage:o}},ic=(e,t,n,r)=>{const{overlayElementID:i,creativeContainerID:o,creativeContainerTitle:a,useCustomEventHandling:c}=Qa[r];let u,l=-1,v=[];const f=new ec(e,t.getId(),i,o,a,c),g=e=>{const t=parseInt(e.attentiveConfig.trackingParams.creativeId,10);n.registerCreativeMessageHandler(t,f.creativeEventHandler),f.show(e)},y=e=>{const t=parseInt(e.attentiveConfig.trackingParams.creativeId,10);n.registerCreativeMessageHandler(t,f.creativeEventHandler),f.load(e),l=t},h=(r,i={})=>{const o=(a=r,JSON.parse(JSON.stringify(a)));var a;const{email:c,hideInitialView:h,skipLoadingRestrictions:E,previouslyLoaded:C,trigger:w='immediately',initiator:I}=i,T=parseInt(o.attentiveConfig.trackingParams.creativeId,10);(()=>{const e=f.attentiveConfig?.trackingParams?.creativeId;e&&n.unregisterCreativeMessageHandler(parseInt(e,10))})();const{attentiveConfig:A}=o,{filteredCreativePagesConfig:S,skippedBubblePage:O}=rc(A);if(A.creativeConfig=S,A.creativeParams.skippedBubblePage=O,A.creativeParams.displayTrigger=w,A.creativeParams.initiator=I,A.creativeParams.adblockerStatus=b('_attn_bopd_'),void 0!==c&&f.setEmail(c),E)return C?void g(o):(y(o),void(l===T&&g(o)));const L=async()=>{const t=await(async e=>(await Promise.all([ta(),oa(e.SHOULD_DELAY_OVERLAY_THIRDPARTY)]),$o.__attentive_cfg&&'1'===$o.__attentive_cfg.lt?1:$o.__attentive_cfg&&'2'===$o.__attentive_cfg.lt?$o.attnOverlayHidden?1:2:ra(e)?1:0))(e);t!==aa.DO_NOT_SHOW&&(y(o),l!==T||h||g(o))},N=()=>{const n=o.attentiveConfig.displayRules,r={immediately:()=>{L()},delay:()=>{const e=(e=>{if(e?.delay?.enabled&&Number(e.delay.value))return e?.delay})(n),t=setTimeout(L,1e3*(e?.value??0));v.push((()=>clearTimeout(t)))},scroll:()=>{const t=(e=>{if(e?.scroll?.enabled&&Number(e.scroll.value)>-1)return e?.scroll})(n);if(Number(t?.value)>-1){const n=()=>{const r=e?.CUSTOM_WINDOW_EVENTS&&document.querySelector(e.CUSTOM_WINDOW_EVENTS)||void 0,i=Da(r);(0===t?.value||t&&i&&_a(t,i))&&(L(),$o.removeEventListener('scroll',n))};$o.addEventListener('scroll',n),n(),v.push((()=>$o.removeEventListener('scroll',n)))}},exitIntent:()=>{const t=ha(n),r=o.attentiveConfig.trackingParams.countdownTimerFilter;if(t){const t=o.attentiveConfig.creativeConfig,{pageview:n,pageviewRuleLowerBound:i}=o.attentiveConfig.trackingParams,{type:a}=t;let c=!1,u=!1;if(Vo(t)){const e=Object.values(t.pages).find((e=>'type'in e&&e.type===No.BUBBLE));e&&(c=((e,t,n)=>{const r=t&&parseInt(t),i=parseInt(e.showBubblePV);if(!r||!n)return!0;const o=r&&n&&Math.abs(r-parseInt(n))+1;return Boolean(o&&o>=i)})(e,n,i))}else c=Ea(t.pages,n,i),u=Ca(t.pages);const s=()=>{if(Ha(),r?.enabled&&r.type===Co.visitor)return Ia(r),void L();L()};if(c)u&&r&&r?.enabled&&r?.type===Co.visitor&&Ia(r),L();else{if(Ua())return;if(a===Io.DESKTOP){const e=Fa(document,s);v.push(e)}if(a===Io.ON_SITE){const t=ja(document,s,e.CUSTOM_EXIT_INTENT_SCROLL_ELEMENT_SELECTOR||'');v.push(t)}}}},backInStock:()=>{const e=o.attentiveConfig.creativeConfig;if('customTrigger'in e&&'backInStock'===e.customTrigger?.type){const n=document.getElementById('attn-waitlist-trigger');if(n){const r=s(e.customTrigger);r.onclick=async()=>{const e=n.getAttribute('data-product-id'),i=n.getAttribute('data-variant-id');if(e&&i){const n=new URLSearchParams;n.append('c',o.attentiveConfig.trackingParams.creativeId),n.append('id',t.getId()??''),fetch(`https://${$o.__attentive_domain}/user-input-collection?${n.toString()}`,{method:'POST',body:JSON.stringify({waitlistEnrollment:{productId:e,variantId:i}})}),Ho(o.attentiveConfig.trackingParams.subscriberChannels)||'true'===r.getAttribute('data-signup-complete')?d(r):(y(o),g(o))}},n.appendChild(r)}}},pdpPrice:()=>{const e=o.attentiveConfig.creativeConfig;if('customTrigger'in e&&'pdpPrice'===e.customTrigger?.type){const t=document.getElementById(p);if(t){const n=m(e.customTrigger);n.onclick=async()=>{Ho(o.attentiveConfig.trackingParams.subscriberChannels)||'true'===n.getAttribute('data-signup-complete')?_(n):(y(o),g(o))},t.appendChild(n)}}},addToCart:()=>{u=o}};o.attentiveConfig.creativeConfig&&!Vo(o.attentiveConfig.creativeConfig)&&((e,t,n)=>{const r=ha(t),i=e.attentiveConfig.trackingParams.countdownTimerFilter,o=Ca(n);if(!r&&i?.enabled&&i?.type===Co.visitor){const{pageview:t,pageviewRuleLowerBound:r}=e.attentiveConfig.trackingParams;n&&t&&r&&Ea(n,t,r)?o&&Ia(i):Ia(i)}})(o,n,o.attentiveConfig.creativeConfig.pages);return r[w](),{triggerAddToCartCreative:r.addToCart}},P=e.SHOULD_DELAY_OVERLAY_CUSTOM;if(P)return void P(N);const{triggerAddToCartCreative:k}=N();return{triggerAddToCartCreative:k}};return{showCreative:h,showCreatives:(e,t)=>{Uo.forEach((n=>{const r=e[n];r&&h(r,{...t,trigger:n})}))},hideCreatives:()=>{f.hide(),v.forEach((e=>e())),v=[]},triggerAddToCartCreative:()=>{const e=u;if(e?.attentiveConfig){const{trackingParams:t}=e.attentiveConfig;if(t.aiCreativeRules&&t.pageview&&parseInt(t.pageview)<8||t.aiCreativeRules&&void 0!==b(tc))return;e.attentiveConfig.trackingParams.firstPageDisplayed='FIELD_CAPTURE';const{attentiveConfig:n}=e,{filteredCreativePagesConfig:r,skippedBubblePage:i}=rc(n);n.creativeConfig=r,n.creativeParams.skippedBubblePage=i,y(e),g(e),u=void 0,t.aiCreativeRules&&(()=>{const e=new Date(Date.now()+18e5);S(tc,'true',{expires:e})})()}}}},oc=()=>{const e=new Map,t=t=>{if(!(n=t).data||!Object.prototype.hasOwnProperty.call(n.data,'__attentive'))return;var n;const{data:{__attentive:{creativeId:r}}}=t,i=e.get(parseInt(r,10));i&&i(t)};window.removeEventListener('message',t),window.addEventListener('message',t);return{registerCreativeMessageHandler:(t,n)=>{e.set(t,n)},unregisterCreativeMessageHandler:t=>{e.delete(t)},removeEventListener:()=>{window.removeEventListener('message',t)}}},ac=async e=>{if(e){const{interval:t,conditionCheck:n,maxTime:r}=e;await(async(e,t,n)=>{const r=n?wa(wo.SECONDS,n):null;for(;(!r||(new Date).toISOString()<=r)&&!e();)await ia(t)})(n,t,r)}};let cc=e=>new Promise((t=>{setTimeout((()=>{const n=document.createElement('script');n.type='text/javascript',n.src=`https://cdn.attn.tv/growth-tag-assets/client-configs/${e}.js`,n.setAttribute('async','true'),n.onload=()=>{const e=$o.__attentive_client_cfg;return t(e||null)},n.onerror=()=>t(null);((document.getElementsByTagName('head')||[null])[0]||document.getElementsByTagName('script')[0].parentNode).appendChild(n)}))}));({}).VITE_LOCAL_CLIENT_CONFIG&&(require(`../client-configs/${{}.VITE_LOCAL_CLIENT_CONFIG}`),cc=async e=>$o.__attentive_client_cfg??{});const uc=async()=>{const e=(()=>{const e={},t=$o?.attn_d0x0b_cfg;if(t){const n=atob(t),r=JSON.parse(n);e.creativesConfig=r.cc,e.externalCompanyId=r.ceid}return e})();return{...e.externalCompanyId?await(async e=>await cc(e)||{})(e.externalCompanyId):{},...e.creativesConfig}},sc='__attentive_ss_referrer',dc='ORGANIC',lc=()=>{const e=b(sc)??null;if(e)return e;const t=document.referrer||dc;return S(sc,t,{expires:Yo()}),t};function vc(e){if(!e.includes('?'))return{};return e.slice(e.indexOf('?')+1).split('&').reduce(((e,t)=>{const[n,r]=t.split('=');return e[n]=r,e}),{})}function fc(e){const t=vc(location.search);return t[e]?t[e]:null}const pc='utm_',gc='__attentive_utm_param_',mc=()=>{const e={};for(const t of Object.values(Fo)){const n=b(`${gc}${t}`);n&&(e[t]=n)}return e},yc=(e,t)=>{const n={};Array.isArray(e.cook)&&e.cook.forEach((e=>{const t=b(e);void 0!==t&&(n[e]=t)}));return{cookies:n,utmParams:mc(),productIds:(()=>{const e=localStorage.getItem('attn_pdp');if(e)try{const t=JSON.parse(atob(e)),n=Object.values(t)[0];return n.map((e=>parseInt(e.sku))).filter((e=>!isNaN(e)))}catch(e){}})(),pd:(()=>{const e={adblocked:1,browser:2,unknown:3}[b('_attn_bopd_')];if(e)return e})(),...t!==dc&&{referrer:t}}},_c='__attentive_pv';function hc(){const e=parseInt(b(_c)??'',10);return e||0}const Ec=e=>{let t;e&&(t=e());const n=(()=>{if(zo){const e=b(jo);return!!e&&'false'!==e}})();return n&&(t=n),Boolean(t)},Cc=e=>{try{if(e)return e()}catch{return}},wc=e=>{let t;if(e.app)t=(()=>{try{return new URLSearchParams(window.location.search).get('debug')}catch(e){return null}})();else if(e.DEBUG_PASSWORD)return t},Ic=e=>{const{customFilterParam:t,anonymousId:n,creativeID:r,clientConfig:i,userId:o,targets:a,triggers:c}=e,u=new URLSearchParams;u.append('v','4.38.17'),u.append('r',window.top.document.referrer),u.append('id',`${o}`),u.append('pv',`${hc()}`),u.append('l',window.top.document.location.href);const{deviceWidth:s,deviceHeight:d}=(e=>{let t=window.innerWidth,n=window.innerHeight;if(e){const{width:r,height:i}=e();t=r,n=i}return{deviceWidth:t,deviceHeight:n}})(i.CUSTOM_DEVICE_SIZE);u.append('w',`${s}`),u.append('h',`${d}`);const l=lc();l&&u.append('ss_ref',`${l}`);const v=((e,t)=>{let n;return t&&(n=t()),n=e||n,n})(n,i.ANON_ID_PARAMS);v&&u.append('a',v);const f=((e,t)=>{let n;return t&&(n=t()),n=e||n,n&&'string'==typeof n&&(n=n.replace(/"/g,'')),n})(t,i.GET_CREATIVE_FILTER_PARAM);f&&u.append('s',`${f}`);const p=Ec(i.GET_EMAIL_CREATIVE_FILTER_PARAM);p&&u.append('hasEmail',`${p}`),r&&u.append('force_show_creative',`${r}`);const g=fc('ignore_filters');g&&u.append('ignore_filters',g);const m=(()=>{const e=b('__attentive_timer');if(e&&new Date>new Date(e))return!0;return!1})();m&&u.append('rct_exp',`${m}`),a&&a.forEach((e=>{u.append('ta',e)})),c&&c.forEach((e=>{u.append('tr',e)}));const y=fc('attn-eid')||fc('externalId');y&&u.append('seid',y);const _=fc('altid');_&&u.append('altid',_);const h=wc(i);return h&&u.append('debug',h),u.append('f','2'),u},bc=e=>decodeURIComponent((e||'').replace(/\+/g,' ')),Tc=(e,t)=>{const n={},r=$o.__attentive_domain||'',i=e=>{const i=((e,t,n)=>({creativeConfig:e.creativeConfig&&JSON.parse(e.creativeConfig),companyMetadata:{companyName:bc(e.companyName),displayName:bc(e.displayName),companyUrl:e.companyUrl,customerPrivacyLink:e.privacyLink,customerTermsLink:e.customerTermsLink,attentivePrivacyLink:e.attentivePrivacyLink,attentiveTermsLink:e.termsLink,allAttentiveTermsLinks:e.allAttentiveTermsLinks||{},emailAddress:e.emailAddress,companyAddress:e.companyAddress,country:e.country,language:e.language,companyPhone:e.companyPhone},displayRules:e.displayRules,creativeParams:{showEmail:e.showEmail?'true':'false'},trackingParams:{attnDomain:t,attentiveAPI:e.attentiveAPI,impressionId:e.impressionId,creativeId:e.creativeId,creativeName:e.creativeConfig&&JSON.parse(e.creativeConfig)?.base?.fields?.creativeName,userId:e.userId,isSubscriber:e.isSubscriber,hasEmail:Ec(n.GET_EMAIL_CREATIVE_FILTER_PARAM),userEmail:Cc(n.GET_EMAIL_CREATIVE_PARAM),subscriberChannels:e.subscriberChannels,companyExternalId:e.encodedCompanyExternalId,sourceUrl:e.sourceUrl,environment:e.environment,anonymousId:e.anonymousId,encodedSubscriberExternalId:e.encodedSubscriberExternalId,templateId:'string'==typeof e.templateId?parseInt(e.templateId,10):void 0,pageview:'null'===e.pageview?void 0:e.pageview,pageviewRuleLowerBound:'null'===e.pageviewRuleLowerBound?void 0:e.pageviewRuleLowerBound,countdownTimerFilter:e.countdownTimerFilter,productVariants:e.productVariants,firstPageDisplayed:e.firstPageDisplayed,aiCreativeRules:e.aiCreativeRules},deciders:e.deciders||{},overrides:{}}))(e.renderingFields,r,t),o=Uo.filter((e=>i.displayRules&&i.displayRules[e]?.enabled));o.length||o.push('immediately');const a=(e=>Do(e.creativeConfig)?'support':['63206','441976'].includes(e.trackingParams.creativeId)?'embedded':'overlay')(i),c=n[a]??{};o.forEach((t=>{c[t]={attentiveConfig:i,creativeRendererIndexURL:e.contentUrl}})),n[a]=c};if((e=>'renderingFields'in e)(e))i(e);else if((e=>'creatives'in e)(e)){const{creatives:{marketing:t,'live-sms':n,topBar:r}}=e;t&&t.length>0&&i(t[0]),n&&n.length>0&&i(n[0]),r&&r.length>0&&i(r[0])}else Mo.forEach((t=>{const n=e.targets[t];n&&Uo.forEach((e=>{const t=n[e];t&&i(t)}))}));return n},Ac=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=Object.values(n.pages).find((e=>'type'in e&&e.type===No.BUBBLE));if(r){const e=r.styles;void 0===e.bottom&&void 0!==e.top||((e,t)=>{switch(t){case Po.LEFT:e.left&&(e.right='5px',e.left=void 0);break;case Po.RIGHT:e.right&&(e.left='5px',e.right=void 0)}})(e,t)}return n},Sc=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=n.pages.find((e=>'type'in e&&e.type===No.BUBBLE));if(r){const e=r.fields.position,n=r.fields.verticalPosition;void 0!==n&&n!==ko.BOTTOM||e!==t||(r.fields.position=e===Po.LEFT?Po.RIGHT:Po.LEFT)}return n},Oc=e=>{const t=e.support,n=e.overlay,r=e.embedded;if(!t||!n)return e;const i=(e=>Uo.map((t=>{const n=e[t]?.attentiveConfig?.creativeConfig;return n&&Do(n)?n.base.fields.position:null})).find((e=>null!==e)))(t);return i?(Uo.forEach((e=>{const t=n[e];if(!t)return;const{creativeConfig:r}=t.attentiveConfig;r&&!Do(r)&&(Vo(r)?t.attentiveConfig.creativeConfig=Ac(r,i):t.attentiveConfig.creativeConfig=Sc(r,i),n[e]=t)})),{support:t,overlay:n,embedded:r}):e},Lc=async(e,t)=>{try{const n=lc(),r=await fetch(e,{method:'POST',body:JSON.stringify({...yc(t,n)})});if(t.app?await(async e=>{try{const t=await e.json(),n={status:e.status,body:t};window.postMessage(n,'https://creatives.attn.tv')}catch(e){}})(r.clone()):t.ON_FETCH_CREATIVES&&await t.ON_FETCH_CREATIVES(r.clone()),200!==r.status)return{};return((e,t)=>{const n=Tc(e,t);return Oc(n)})(await r.json(),t)}catch{return{}}},Nc=async(e,t={})=>{const n=(r={clientConfig:e,creativeID:t.creativeID??null,customFilterParam:t.customFilterParam??null,userId:t.userID??null,anonymousId:t.anonymousID??null,triggers:t.triggers,targets:t.targets},`https://${$o.__attentive_domain}/unrenderedCreative?${Ic(r).toString()}`);var r;return Lc(n,e)},Pc='__attentive_dv';function kc(e){const t=new Date;t.setTime(t.getTime()+60*e*60*1e3),S(Pc,'1',{expires:t})}function Rc(e){try{void 0===b(Pc)&&async function(e){return fetch(`https://${$o.__attentive_domain}/d/?attn_vid=${e.getId()}`).then((e=>e.text()))}(e).then((t=>{t.includes('true')&&e.rotateId(),kc(24)})).catch((()=>{kc(2)}))}catch(e){kc(2)}}const Bc=async()=>{performance.mark(h.TagCreativesLoaded);const e=new Jo;Rc(e),(e=>{const t=vc(e),n=Object.values(Fo);for(const e of Object.keys(t)){const r=e.toLocaleLowerCase(),i=r.substring(4);ma(r,pc)&&n.includes(i)&&S(`${gc}${i}`,t[e],{expires:Date.now()+18e5})}})($o.location.search);const t=await uc();(e=>{if(e){const{cookieKey:t,cookiePersistTimeInSeconds:n,getCookieValue:r}=e,i=r();void 0!==i&&S(t,i,{expires:qo(n)})}})(t.SET_GENERIC_COOKIE),((e,t)=>{if(e&&t){const{key:e,value:n}=t;S(e,n??'true',{expires:Yo()})}})(t.SHOULD_BLOCK_WITH_COOKIES,t.DISALLOWED_COOKIES),(e=>{if(e){const t=e.cookieKey||'__attentive_creativeFilter',n=e.getCookieValue();void 0!==n&&S(t,n,{expires:Yo()})}})(t.SET_CREATIVE_FILTER_SESSION_COOKIE),(e=>{if(e){const t=e();t&&S('__attentive_client_user_id',t)}})(t.ATTENTIVE_CLIENT_USER_ID);let n={};var r;r=t.ON_TAG_INITIALIZATION,r?.();const i=oc(),o=ic(t,e,i,'marketing'),a=ic(t,e,i,'live-sms'),c=ic(t,e,i,'topBar'),u=async(e={},r={})=>{performance.mark(h.FetchCreativesStart);const i=await Nc(t,e);performance.mark(h.FetchCreativesEnd);const{overlay:u,support:s,embedded:d}=i;u?o.showCreatives(u,r):'2'===$o.__attentive_cfg?.lt&&n.overlay&&o.showCreatives(n.overlay,r),s&&a.showCreatives(s,{skipLoadingRestrictions:!0}),d&&c.showCreatives(d,{skipLoadingRestrictions:!0}),n=i},s=()=>{o.hideCreatives()},d=async()=>{!function(){const e=hc();S(_c,`${e+1}`,{expires:Yo()})}(),s();const n=(e=>{const t={userID:e.getId()};if(location.href.includes('attn_creative_id=')){const{attn_creative_id:e}=vc(location.href);t.creativeID=parseInt(e,10)}return t.targets=[],t.triggers=[],t})(e),r={email:null,initiator:'attn',skipLoadingRestrictions:Boolean(n.creativeID)||$o.attn_mobile_app,hideInitialView:'2'===$o.__attentive_cfg?.lt};await ac(t.SHOULD_DELAY_CREATIVES_FETCH),u(n,r)};((e={})=>{$o.__attentive?$o.__attentive={...$o.__attentive,...e}:$o.__attentive=e})({show:d,hide:s,trigger:async(t,r,i,o,a)=>{const c={customFilterParam:t,anonymousID:r,creativeID:o,userID:e.getId(),targets:['overlay'],triggers:['standard']},s={email:i,hideInitialView:Boolean(a),skipLoadingRestrictions:!0,previouslyLoaded:'2'===$o.__attentive_cfg?.lt&&!!n,initiator:'sdk'};u(c,s)}}),d();return{triggerAddToCartCreative:()=>{o.triggerAddToCartCreative()}}};var xc={evaluateEligibility:function(e){try{var t=e.variantId,n=function(){var e;try{var t=null===(e=v())||void 0===e?void 0:e.innerHTML;return JSON.parse(t||'')}catch(e){return}}();return!!(null==n?void 0:n[t])}catch(e){return!1}}},Dc={shopify:xc,base:{evaluateEligibility:function(e){try{return null!==document.querySelector('.'.concat('attn-oos'))}catch(e){return!1}}}},Mc=function(){var e;return zt(((e={})[nt]=function(e,t,n){var r;n.dispatch;var i=b('__attentive_session_id');S('__attentive_session_id',i?String(i):i=en(),{expires:1/48}),e&&tt in e&&(e[tt]=((r={val:i})[Et]=Date.now(),r[ht]=Date.now(),r[Ct]=1/48,r))},e))};var Uc=function(e){var t=localStorage.getItem('attn_load_collect');null===t&&(t=(Math.random()<e).toString());if(localStorage.setItem('attn_load_collect',t),'true'===t){var n=document.createElement('script'),r=''.concat('https://cdn.attn.tv/tag','/').concat(P,'/collector.js');n.src=r,n.async=!0,document.body.appendChild(n)}};function Hc(){var e;if(null!=window.attn_d0x0b_evt&&window.attn_d0x0b_evt.length>0){var t=null===(e=window.attentive)||void 0===e?void 0:e.analytics;if(!t)return;for(var n=0,r=window.attn_d0x0b_evt;n<r.length;n++){var i=r[n],o=i.func,a=i.args;'object'==typeof t&&'function'==typeof t[o]&&t[o].apply(null,a)}}}var Fc=function(){!0!==window.attn_tag_initialized&&function(e){n(this,void 0,void 0,(function(){var t,i,o;return r(this,(function(a){switch(a.label){case 0:document.removeEventListener('DOMContentLoaded',Fc),performance.mark(h.TagCoreLoaded),window.attn_tag_initialized=!0,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Vc(t=JSON.parse(atob(e)))];case 2:return a.sent()&&(i=[],N&&i.push((function(e,t){var n;if(N){var r=function(){};try{t.type===nt&&(oo=e,N&&(On((function(){return Boolean(Kn('gtag')(window))})).then((function(){})).catch(r),On((function(){return Boolean(Kn('fbq')(window))})).then((function(){})).catch(r),On((function(){return Boolean(Kn('Shopify')(window))})).then((function(){})).catch(r),document.querySelectorAll('meta').forEach((function(e){})),document.querySelectorAll('script[type="application/ld+json"]').forEach((function(e){})))),null===(n=t.meta)||void 0===n||n.dataType,oo!==e&&(oo=e)}catch(e){}}})),i.push(no()),i.push(eo()),i.push(function(){var e,t;return zt(((e={})[nt]=function(e,n){var r,i=null===(r=null==(t=n.data.clientConfiguration)?void 0:t.tac)||void 0===r?void 0:r.p;i&&i>0&&Uc(i)},e))}()),i.push(Mc()),i.push(function(){var e,t,i=!1,o=!1,a=function(){return n(void 0,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return i?[3,2]:(i=!0,[4,Bc()]);case 1:e=n.sent().triggerAddToCartCreative,t=e,n.label=2;case 2:return[2]}}))}))};return zt(((e={})[nt]=function(e,t){var n,r=t.data.clientConfiguration;o=!0===(null===(n=r.cc)||void 0===n?void 0:n.pcve),!e||e&&!e[Ve]||a()},e[rt]=function(){a()},e[at]=function(e,t){var n,r=t.data,i=t.meta,a=(n=r.items&&Array.isArray(r.items)&&r.items.length>0&&'object'==typeof r.items[0]?r.items[0]:r).sku,c=n.subProductId,s=n.price,d=n.cartCurrency,f=n.image,p=n.name,m=n.productId;if(o&&Qt&&(null==i?void 0:i.dataType)===lt&&p&&s&&f&&(a||m)){var _={name:p,image:f,price:s,sku:a||m,cartCurrency:d,variantId:c,location:window.location.href},h=window.__attentive_domain,E=window.localStorage.getItem('attn_pdp'),C={};if(E&&(C=JSON.parse(atob(E))),h){var w=(!0===Array.isArray(C[h])?C[h]:[]).filter((function(e){return e.sku!==_.sku}));w.unshift(_),w.length>3&&(w=w.slice(0,3)),C[h]=w,window.localStorage.setItem('attn_pdp',btoa(JSON.stringify(C)))}}var I=l();I&&(null==i?void 0:i.dataType)===lt&&(a||m)&&c&&((0,Dc[v()?'shopify':'base'].evaluateEligibility)({variantId:''.concat(c)})?(function(e,t,n){e.setAttribute('data-product-id',t),e.setAttribute('data-variant-id',n),e.style.display='block'}(I,''.concat(a||m),''.concat(c)),!(b=u())||I.getAttribute('data-product-id')===''.concat(a||m)&&I.getAttribute('data-variant-id')===''.concat(c)||!0!==b.disabled||function(e){const t=e.getAttribute('data-enabled-text');t&&(e.disabled=!1,e.innerText=t)}(b)):function(e){e.removeAttribute('data-product-id'),e.removeAttribute('data-variant-id'),e.style.display='none'}(I));var b,T=y();T&&(function(e,t){e.setAttribute('data-product-price',t),e.style.display='block'}(T,''.concat(s)),(b=g())&&!0===b.disabled&&function(e){const t=e.getAttribute('data-enabled-text');t&&(e.disabled=!1,e.innerText=t)}(b))},e[ct]=function(e,n){var r=n.meta;(null==r?void 0:r.dataType)===st&&'function'==typeof t&&t()},e))}()),window.attentive=bn({clientConfiguration:t,services:i}),queueMicrotask(Hc)),[3,4];case 3:return o=a.sent(),At(H,o),[3,4];case 4:return[2]}}))}))}(window.attn_d0x0b_cfg)};function Vc(e){return new Promise((function(t,n){if(e[ze]&&e[Je]){if(jc('enable'))return void t(!0);var r=function(){jc('enable')&&(window.removeEventListener('attn_queued_sdk_event',r),t(!0))};window.addEventListener('attn_queued_sdk_event',r)}else t(!0)}))}function jc(e){var t;return null===(t=null===window||void 0===window?void 0:window.attn_d0x0b_evt)||void 0===t?void 0:t.find((function(t){return t.func===e}))}window.attn_d0x0b_cfg&&('loading'===document.readyState?document.addEventListener('DOMContentLoaded',Fc):Fc())}();
